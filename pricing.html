<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Picture This Pet | Capture Timeless Memories</title>
  <meta name="description" content="Professional pet photography that captures timeless moments. Book your session today.">
  <meta name="robots" content="noarchive, noodp, noimageindex">
  <link rel="canonical" href="https://picturethispet.co/" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Inter:wght@400;600&display=swap" rel="stylesheet" />
  <link rel="preload" href="assets/images/sec1_img_final.png" as="image" />

  <style>
    :root {
      --orange: #F47C2C;
      --gold: #FDB75E;
      --dark-brown: #4B2E1E;
      --available-green: #10b981;
      --booked-red: #ef4444;
      --soft-hold-yellow: #f59e0b;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    html {
      overflow-x: hidden;
      scrollbar-width: none;
      -ms-overflow-style: none;
      scroll-behavior: smooth;
    }
    
    html::-webkit-scrollbar {
      width: 0;
      height: 0;
    }
    
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      color: white;
      background: none;
      overflow-x: hidden;
    }

    @keyframes moveBackground {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes slideInLeft {
      from {
        opacity: 0;
        transform: translateX(-50px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    @keyframes slideInRight {
      from {
        opacity: 0;
        transform: translateX(50px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    /* === HEADER STYLES === */
    header {
      width: 100%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.01rem 1.5rem;
      background-image: url('assets/images/ani_bkgd_cool.png');
      background-size: 100% 100%;
      background-position: center;
      animation: moveBackground 30s ease-in-out infinite;
      backdrop-filter: blur(12px);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      position: fixed;
      top: 0;
      left: 0;
      z-index: 1000;
      height: 110px;
    }
    
    .desktop-logo {
      height: 100px;
    }

    .logo-link {
      display: flex;
      align-items: center;
      transition: all 0.3s ease;
      text-decoration: none;
    }

    .logo-link:hover {
      opacity: 0.8;
      transform: scale(1.02);
    }
    
    .site-nav {
      display: flex;
      align-items: center;
      margin-left: auto;
    }
    
    .site-nav a:not(.book-btn) {
      margin-left: 1rem;
      text-decoration: none;
      font-weight: 600;
      color: white;
      transition: all 0.3s ease;
      padding: 0.5rem 1rem;
      border-radius: 8px;
    }

    .site-nav a:not(.book-btn):hover {
      background: rgba(255, 255, 255, 0.1);
      transform: translateY(-1px);
    }
    
    .book-btn {
      background: url("assets/images/ani_bkgd_warm.png");
      background-size: cover;
      background-position: center;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      padding: 0.8rem 2rem;
      border: 2px solid transparent;
      border-radius: 999px;
      font-weight: 900;
      font-size: 1.2rem;
      text-decoration: none;
      margin-left: 1.5rem;
      cursor: pointer;
      transition: all 0.3s ease;
      background-clip: text;
      position: relative;
    }

    .book-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url("assets/images/ani_bkgd_warm.png");
      background-size: cover;
      background-position: center;
      border-radius: 999px;
      opacity: 0.15;
      z-index: -1;
      transition: all 0.3s ease;
    }

    .book-btn:hover::before {
      opacity: 0.25;
      transform: scale(1.05);
    }

    .book-btn:hover {
      transform: translateY(-2px);
    }
    
    .mobile-menu-btn {
      display: none;
      background: none;
      border: none;
      color: white;
      font-size: 2rem;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .mobile-menu-btn:hover {
      transform: scale(1.1);
    }

    /* === HERO SECTION === */
    .hero-section {
      position: relative;
      width: 100vw;
      margin-left: calc(-50vw + 50%);
      margin-top: 110px;
      z-index: 1;
      overflow: hidden;
    }
    
    .hero-section img {
      width: 100%;
      height: auto;
      display: block;
      animation: fadeInUp 1s ease-out;
    }

    /* === EMOTIONAL STORY SECTION === */
    .story-section {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 6rem 2rem;
      position: relative;
      background-image: url("assets/images/main_background_allsystem.png");
      background-size: 100% 100%;
      background-position: center;
      background-repeat: no-repeat;
      background-attachment: fixed;
      animation: moveBackground 30s ease-in-out infinite;
      box-shadow: 0 30px 60px rgba(0, 0, 0, 0.25);
      z-index: 2;
      width: 100vw;
      margin-left: calc(-50vw + 50%);
      margin-top: -50px;
    }

    .story-content {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 4rem;
      align-items: center;
      width: 100%;
    }
    
    .story-left {
      animation: slideInLeft 0.8s ease-out;
    }
    
    .story-left h1 {
      font-family: 'Inter', sans-serif;
      font-weight: 900;
      font-size: 4.2rem;
      line-height: 1.1;
      background: url("assets/images/ani_bkgd_cool.png");
      background-size: cover;
      background-position: center;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 2rem;
    }
    
    .story-right {
      animation: slideInRight 0.8s ease-out 0.2s both;
    }
    
    .story-right h2 {
      font-family: 'Playfair Display', serif;
      font-weight: 700;
      font-size: 2.8rem;
      line-height: 1.2;
      margin-bottom: 1.5rem;
      color: white;
    }
    
    .story-right p {
      font-family: 'Inter', sans-serif;
      font-size: 1.4rem;
      font-weight: 400;
      line-height: 1.6;
      color: rgba(255, 255, 255, 0.9);
      margin-bottom: 2.5rem;
    }

    .story-cta {
      display: inline-block;
      background: linear-gradient(135deg, var(--orange), var(--gold));
      color: white;
      padding: 1rem 2.5rem;
      border-radius: 16px;
      font-size: 1.2rem;
      font-weight: 600;
      text-decoration: none;
      transition: all 0.3s ease;
      box-shadow: 0 8px 25px rgba(244, 124, 44, 0.3);
    }

    .story-cta:hover {
      transform: translateY(-3px);
      box-shadow: 0 15px 35px rgba(244, 124, 44, 0.4);
    }

    /* === SESSION BUILDER SECTION === */
    .session-builder-section {
      padding: 8rem 1rem 10rem;
      background: url('assets/images/main_background_allsystem.png');
      background-size: 100% 100%;
      background-position: center;
      animation: moveBackground 30s ease-in-out infinite;
      position: relative;
      overflow: hidden;
      width: 100vw;
      margin-left: calc(-50vw + 50%);
    }

    .session-builder-header {
      text-align: center;
      margin-bottom: 4rem;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
      animation: fadeInUp 0.8s ease-out 0.4s both;
    }

    .session-heading {
      font-family: 'Inter', sans-serif;
      font-weight: 900;
      font-size: 4rem;
      line-height: 1.2;
      background: url('assets/images/ani_bkgd_cool.png');
      background-size: cover;
      background-position: center;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 1.5rem;
    }

    .session-subtext {
      color: rgba(255, 255, 255, 0.9);
      font-size: 1.3rem;
      font-family: 'Inter', sans-serif;
      line-height: 1.6;
      margin-bottom: 1rem;
    }

    .session-features {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      margin-top: 2rem;
    }

    .feature-card {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 16px;
      padding: 1.5rem;
      text-align: center;
      transition: all 0.3s ease;
    }

    .feature-card:hover {
      background: rgba(255, 255, 255, 0.1);
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    }

    .feature-card h3 {
      color: var(--gold);
      font-size: 1.1rem;
      margin-bottom: 0.5rem;
      font-weight: 600;
    }

    .feature-card p {
      color: rgba(255, 255, 255, 0.8);
      font-size: 0.95rem;
      line-height: 1.4;
    }

    /* === SESSION CARDS === */
    .session-card-container {
      max-width: 1000px;
      margin: 0 auto;
      margin-top: 4rem;
      position: relative;
      min-height: 700px;
      z-index: 2;
    }

    .session-card {
      background-image: url('assets/images/ani_bkgd_cool.png');
      background-size: 100% 100%;
      background-position: center;
      animation: moveBackground 30s ease-in-out infinite;
      height: 650px;
      width: 100%;
      max-width: 700px;
      border-radius: 24px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
      padding: 3rem;
      color: white;
      font-family: 'Inter', sans-serif;
      transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
      opacity: 0;
      transform: translate(-50%, -50%) scale(0.9);
      visibility: hidden;
      position: absolute;
      top: 50%;
      left: 50%;
      transform-origin: center;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      align-items: center;
      backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .session-card.agreement-card {
      height: 600px;
      max-width: 900px;
      width: 100%;
      padding: 2.5rem;
    }

    .session-card.active {
      opacity: 1;
      transform: translate(-50%, -50%) scale(1);
      visibility: visible;
    }

    .session-card.exiting {
      opacity: 0;
      transform: translate(-50%, -50%) scale(0.8);
      visibility: hidden;
    }

    .session-card-logo {
      max-width: 400px;
      margin-bottom: 1rem;
      display: block;
    }

    .session-card-body {
      text-align: center;
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      align-items: center;
      width: 100%;
      min-height: 0;
      padding: 1rem 0;
    }

    .session-card-content {
      text-align: center;
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      width: 100%;
      padding: 0 1rem;
    }

    .session-card-body h2,
    .session-card-body h3 {
      font-size: 2.5rem;
      font-weight: 700;
      margin: 0 auto 1.5rem;
      color: white;
      text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
    }

    .session-card-body .question-prompt {
      font-size: 2.2rem;
      font-weight: 600;
      margin-bottom: 2rem;
      color: white;
      text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
    }

    .session-card-body p {
      font-size: 1.2rem;
      line-height: 1.6;
      opacity: 0.9;
      margin-bottom: 2rem;
      max-width: 500px;
      margin-left: auto;
      margin-right: auto;
      text-align: center;
    }

    .agreement-text {
      background: rgba(255, 255, 255, 0.08);
      backdrop-filter: blur(10px);
      border-radius: 16px;
      padding: 1.5rem;
      margin: 1rem 0 2rem;
      border: 1px solid rgba(255, 255, 255, 0.15);
      text-align: left;
      line-height: 1.6;
      font-size: 1.1rem;
      max-width: 750px;
      min-height: 240px;
      margin-left: auto;
      margin-right: auto;
    }

    .session-info-list {
      list-style: none;
      padding: 0;
      margin: 1.5rem 0;
      text-align: left;
      max-width: 350px;
      margin-left: auto;
      margin-right: auto;
    }

    .session-info-list li {
      font-size: 1.2rem;
      padding: 0.8rem 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.15);
      display: flex;
      align-items: center;
      transition: all 0.3s ease;
    }

    .session-info-list li:hover {
      padding-left: 0.5rem;
      color: var(--gold);
    }

    .session-info-list li:last-child {
      border-bottom: none;
      padding-bottom: 1.5rem;
    }

    .answer-options {
      display: flex;
      gap: 1.5rem;
      margin-bottom: 2rem;
      flex-wrap: wrap;
      justify-content: center;
    }

    .answer-button {
      background: rgba(255, 255, 255, 0.1);
      color: white;
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-radius: 16px;
      padding: 1rem 2rem;
      font-size: 1.2rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
      min-width: 160px;
    }

    .answer-button:hover {
      background: rgba(255, 255, 255, 0.25);
      border-color: rgba(255, 255, 255, 0.5);
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
    }

    .session-card-footer {
      margin-top: auto;
      display: flex;
      justify-content: center;
      gap: 1.5rem;
      width: 100%;
      flex-shrink: 0;
      padding: 1.5rem 0;
      flex-wrap: wrap;
    }

    .session-card-footer button,
    .continue-btn,
    .primary-btn {
      background: linear-gradient(135deg, var(--orange), var(--gold));
      color: white;
      border: none;
      border-radius: 16px;
      padding: 1rem 2rem;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-block;
      text-align: center;
      box-shadow: 0 6px 20px rgba(244, 124, 44, 0.3);
    }

    .session-card-footer button:hover,
    .continue-btn:hover,
    .primary-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 12px 30px rgba(244, 124, 44, 0.4);
    }

    .session-card-footer .back-btn,
    .session-card-footer .restart-btn {
      background: rgba(255, 255, 255, 0.08);
      color: rgba(255, 255, 255, 0.8);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 12px;
      padding: 0.7rem 1.5rem;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }

    .session-card-footer .back-btn:hover,
    .session-card-footer .restart-btn:hover {
      background: rgba(255, 255, 255, 0.15);
      color: white;
      border-color: rgba(255, 255, 255, 0.4);
      transform: translateY(-2px);
    }

    /* === FOOTER === */
    footer {
      background-image: url('assets/images/ani_bkgd_cool.png');
      background-size: 100% 100%;
      background-position: center;
      animation: moveBackground 30s ease-in-out infinite;
      text-align: center;
      padding: 3rem 1rem;
      width: 100vw;
      margin-left: calc(-50vw + 50%);
      position: relative;
      backdrop-filter: blur(10px);
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }

    .payments {
      margin-bottom: 2rem;
    }

    .payments img {
      height: 35px;
      margin: 0 1rem;
      filter: brightness(0) invert(1);
      transition: all 0.3s ease;
    }

    .payments img:hover {
      transform: scale(1.1);
      opacity: 0.8;
    }

    footer p {
      font-size: 1rem;
      opacity: 0.8;
    }

    /* === RESPONSIVE DESIGN === */
    @media (max-width: 768px) {
      header {
        height: 80px;
        padding: 0.5rem 1rem;
      }
      
      .desktop-logo { 
        height: 48px; 
      }
      
      .site-nav {
        display: none;
        flex-direction: column;
        background-image: url('assets/images/ani_bkgd_cool.png');
        background-size: 100% 100%;
        background-position: center;
        position: absolute;
        top: 80px;
        right: 0;
        width: 100%;
        text-align: right;
        padding: 1rem;
        z-index: 999;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(12px);
      }
      
      .site-nav.active {
        display: flex;
      }
      
      .site-nav.active a {
        display: block;
        margin: 0.5rem 0;
        font-size: 1.2rem;
        color: white;
        padding: 0.5rem 1rem;
      }
      
      .book-btn {
        padding: 0.6rem 1.5rem;
        font-size: 1rem;
        margin-left: 0;
      }
      
      .mobile-menu-btn {
        display: block;
      }
      
      .hero-section {
        margin-top: 80px;
      }
      
      .story-section {
        padding: 4rem 1rem;
        margin-top: -30px;
      }

      .story-content {
        grid-template-columns: 1fr;
        gap: 3rem;
        text-align: center;
      }
      
      .story-left h1 {
        font-size: 3rem;
      }

      .story-right h2 {
        font-size: 2.2rem;
      }

      .story-right p {
        font-size: 1.2rem;
      }

      .session-builder-section {
        padding: 6rem 1rem 8rem;
      }

      .session-heading {
        font-size: 3rem;
      }

      .session-subtext {
        font-size: 1.1rem;
        padding: 0 1rem;
      }

      .session-features {
        grid-template-columns: 1fr;
        gap: 1rem;
      }

      .session-card-container {
        margin-top: 3rem;
        min-height: 600px;
      }

      .session-card {
        height: 580px;
        max-width: 95%;
        padding: 2rem;
        top: 55%;
      }

      .session-card.agreement-card {
        height: 650px;
        max-width: 95%;
        padding: 1.5rem;
      }

      .session-card-logo {
        max-width: 250px;
        margin-bottom: 0.5rem;
      }

      .session-card-body h2,
      .session-card-body h3 {
        font-size: 2rem;
        margin-bottom: 1rem;
      }

      .session-card-body .question-prompt {
        font-size: 1.8rem;
        margin-bottom: 1.5rem;
      }

      .session-card-body p {
        font-size: 1.1rem;
        margin-bottom: 1.5rem;
        max-width: 90%;
      }

      .agreement-text {
        max-width: 95%;
        min-height: 280px;
        margin: 0.5rem 0 1.5rem;
        padding: 1rem;
        font-size: 1rem;
      }

      .session-info-list {
        margin: 1rem 0;
        max-width: 300px;
      }

      .session-info-list li {
        padding: 0.6rem 0;
        font-size: 1.1rem;
      }

      .answer-options {
        gap: 1rem;
        margin-bottom: 1.5rem;
      }

      .answer-button {
        padding: 0.8rem 1.5rem;
        font-size: 1.1rem;
        min-width: 140px;
      }

      .session-card-footer {
        gap: 1rem;
        padding: 1rem 0;
      }

      .session-card-footer button,
      .continue-btn {
        padding: 0.8rem 1.5rem;
        font-size: 1rem;
      }

      .session-card-footer .back-btn,
      .session-card-footer .restart-btn {
        padding: 0.6rem 1.2rem;
        font-size: 0.9rem;
      }
    }

    @media (min-width: 769px) {
      .mobile-menu-btn { 
        display: none !important; 
      }
    }

    /* === ENHANCED ANIMATIONS === */
    .session-card {
      animation: none;
    }

    .session-card.entering {
      animation: cardSlideIn 0.6s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    }

    @keyframes cardSlideIn {
      from {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.9) rotateY(10deg);
      }
      to {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1) rotateY(0deg);
      }
    }
  </style>
</head>
<body>
  <header>
    <a href="/" class="logo-link" aria-label="PictureThisPet Home">
      <img src="assets/images/header_logo_cool_final.png" alt="PictureThisPet Logo" class="desktop-logo" />
    </a>
    <nav class="site-nav">
      <a href="/" aria-label="Home page">Home</a>
      <a href="/availability.html" aria-label="Availability page">Availability</a>
      <a href="#" aria-label="Locations page">Locations</a>
      <a href="#" aria-label="Pricing page">Pricing</a>
      <a href="#" aria-label="Contact page">Contact</a>
      <a href="#" class="book-btn" aria-label="Book a session" onclick="scrollToSessionBuilder(event)">Book Now</a>
    </nav>
    <button class="mobile-menu-btn" aria-label="Toggle mobile menu" onclick="toggleMenu()">‚ò∞</button>
  </header>
  
  <main>
    <!-- Hero Section -->
    <section class="hero-section">
      <img src="assets/images/sec1_img_final.png" alt="Golden Retriever in Cheesman Park" loading="lazy" />
    </section>
    
    <!-- Emotional Story Section -->
    <section class="story-section">
      <div class="story-content">
        <div class="story-left">
          <h1>ONE DAY, THEY WON'T<br />BE THERE BY YOUR SIDE</h1>
        </div>
        <div class="story-right">
          <h2>But these moments?<br />They'll last forever.</h2>
          <p>Photographs capture your pet's personality, their quirks, the joy they bring into your life. Years from now, you'll cherish those memories.</p>
          <a href="#" class="story-cta" onclick="scrollToSessionBuilder(event)">Start Your Session ‚Üí</a>
        </div>
      </div>
    </section>

    <!-- Session Builder Section -->
    <section class="session-builder-section" id="session-builder-section">
      <div class="session-builder-header">
        <h2 class="session-heading">Let's Find Your Perfect Session</h2>
        <p class="session-subtext">We take a unique approach to help you find the perfect session for your pet. Answer a few quick questions to start building your personalized experience.</p>
        
        <div class="session-features">
          <div class="feature-card">
            <h3>üêæ Personalized Experience</h3>
            <p>Tailored to your pet's unique personality and your specific needs</p>
          </div>
          <div class="feature-card">
            <h3>üì∏ Professional Quality</h3>
            <p>High-end equipment and expert editing for stunning results</p>
          </div>
          <div class="feature-card">
            <h3>üåÖ Golden Hour Magic</h3>
            <p>Perfect lighting conditions for beautiful, natural-looking photos</p>
          </div>
        </div>
      </div>

      <div class="session-card-container" id="sessionCardContainer">
        <!-- Cards will be dynamically generated -->
      </div>
    </section>
  </main>

  <footer>
    <div class="payments">
      <img src="assets/images/visa.png" alt="Visa payment accepted" loading="lazy" />
      <img src="assets/images/mastercard.png" alt="Mastercard payment accepted" loading="lazy" />
      <img src="assets/images/paypal.png" alt="PayPal payment accepted" loading="lazy" />
    </div>
    <p>¬© 2025 PictureThisPet. All rights reserved. | v4.0.1</p>
  </footer>

  <script>
    // Session Data Management
    const sessionData = {
      session: '',
      park: '',
      petCount: '',
      peopleCount: '',
      acceptedBehaviorPolicy: false,
      acceptedServiceAgreement: false,
      acceptedCancellationPolicy: false
    };

    // Session Builder State
    let currentCard = 0;
    let currentQuestion = 0;
    let cardHistory = [];

    const questions = [
      { label: "What type of session?", name: "session", options: ["Mini", "Full"] },
      { label: "Which park location?", name: "park", options: ["Cheesman Park", "City Park"] },
      { label: "How many pets? (max 2)", name: "petCount", options: ["1", "2"] },
      { label: "How many people? (max 2)", name: "peopleCount", options: ["1", "2"] }
    ];

    // Mobile menu toggle
    function toggleMenu() {
      const nav = document.querySelector('.site-nav');
      nav.classList.toggle('active');
    }

    // Smooth scroll to session builder
    function scrollToSessionBuilder(e) {
      e.preventDefault();
      const sessionSection = document.getElementById('session-builder-section');
      if (sessionSection) {
        sessionSection.scrollIntoView({ behavior: 'smooth' });
      }
    }

    // Create session card
    function createCard(content, isActive = false) {
      const card = document.createElement("div");
      card.className = `session-card${isActive ? ' active' : ''}`;
      card.innerHTML = content;
      return card;
    }

    // Show specific card
    function showCard(index) {
      const cards = document.querySelectorAll('.session-card');
      if (index < 0 || index >= cards.length) {
        console.error('Invalid card index:', index);
        return;
      }
      
      cards.forEach((card, i) => {
        card.classList.remove('active', 'entering');
        if (i === index) {
          setTimeout(() => {
            card.classList.add('active', 'entering');
            card.style.visibility = 'visible';
          }, 50);
        } else {
          card.style.visibility = 'hidden';
        }
      });

      currentCard = index;

      if (index === 3) {
        renderCurrentQuestion();
      }

      addButtonListeners();
    }

    // Advance to next card
    function advanceCard(event) {
      if (event) {
        event.preventDefault();
        event.stopPropagation();
      }

      const currentCardEl = document.querySelector('.session-card.active');
      cardHistory.push(currentCard);
      const nextIndex = currentCard + 1;

      if (currentCardEl) {
        currentCardEl.classList.add('exiting');
        setTimeout(() => {
          currentCardEl.classList.remove('active', 'exiting');
          currentCardEl.style.visibility = 'hidden';
          showCard(nextIndex);
        }, 300);
      } else {
        showCard(nextIndex);
      }

      return false;
    }

    // Go back to previous card
    function goBack() {
      if (cardHistory.length > 0) {
        const previousCard = cardHistory.pop();

        if (currentCard === 3 && currentQuestion > 0) {
          currentQuestion--;
          renderCurrentQuestion();
          return false;
        }

        if (previousCard === 3 && currentQuestion > 0) {
          currentQuestion--;
        }

        showCard(previousCard);

        if (previousCard === 3) {
          renderCurrentQuestion();
        }
      } else if (currentCard > 0) {
        showCard(currentCard - 1);
      }
    }

    // Restart session
    function restartSession() {
      if (confirm("Are you sure you want to start over? This will clear all your selections.")) {
        Object.keys(sessionData).forEach(key => {
          if (typeof sessionData[key] === 'boolean') {
            sessionData[key] = false;
          } else {
            sessionData[key] = '';
          }
        });
        localStorage.removeItem("ptpSessionData");
        currentCard = 0;
        currentQuestion = 0;
        cardHistory = [];
        initializeSessionBuilder();
      }
    }

    // Handle question answers
    function handleQuestionAnswer(questionName, answer) {
      if (!questionName || !answer || !questions.find(q => q.name === questionName)) {
        console.error('Invalid question or answer:', questionName, answer);
        return;
      }

      handleSessionSelection(questionName, answer);

      currentQuestion++;

      if (currentQuestion < questions.length) {
        renderCurrentQuestion();
      } else {
        advanceCard();
      }
    }

    // Render current question
    function renderCurrentQuestion() {
      const questionCard = document.getElementById('questionCard');
      if (!questionCard) return;

      const question = questions[currentQuestion];
      if (!question) return;

      questionCard.innerHTML = `
        <div class="session-card-content">
          <div class="question-prompt">${question.label}</div>
          <div class="answer-options">
            ${question.options.map((option) => 
              `<button type="button" class="answer-button" data-question="${question.name}" data-answer="${option}" aria-label="Select ${option}">
                ${option}
              </button>`
            ).join('')}
          </div>
        </div>
        <div class="session-card-footer">
          <button type="button" class="back-btn" data-action="back" aria-label="Go back">‚Üê Back</button>
          <button type="button" class="restart-btn" data-action="restart" aria-label="Restart session">üîÑ Start Over</button>
        </div>
      `;

      addButtonListeners();
    }

    // Add button listeners
    function addButtonListeners() {
      const buttons = document.querySelectorAll('.session-card button, .answer-button');
      buttons.forEach(button => {
        button.removeEventListener('click', handleButtonClick);
        button.addEventListener('click', handleButtonClick);
      });
    }

    // Handle button clicks
    function handleButtonClick(e) {
      e.preventDefault();
      e.stopPropagation();

      const button = e.currentTarget;
      const action = button.dataset.action;
      const question = button.dataset.question;
      const answer = button.dataset.answer;
      const agreementType = button.dataset.agreement;

      if (question && answer) {
        handleQuestionAnswer(question, answer);
      } else if (action === 'start' || action === 'next') {
        advanceCard(e);
      } else if (action === 'agree' && agreementType) {
        if (agreementType === 'cancellation') {
          acceptAgreement(agreementType);
          redirectToPickADate();
        } else {
          acceptAgreement(agreementType);
          advanceCard(e);
        }
      } else if (action === 'pick-date') {
        redirectToPickADate();
      } else if (action === 'back') {
        goBack();
      } else if (action === 'restart') {
        restartSession();
      }

      return false;
    }

    // Initialize session builder
    function initializeSessionBuilder() {
      const container = document.getElementById('sessionCardContainer');
      container.innerHTML = '';

      const card0 = createCard(`
        <div class="session-card-body">
          <div class="session-card-logo">
            <img src="assets/images/final_sessionbuilder_qcard_logo_warm.png" alt="PictureThisPet Warm Logo" class="session-card-logo">
          </div>
          <div class="session-card-content">
            <h2>Let's Create Something Beautiful</h2>
            <p>In just a few quick steps, we'll help you design the perfect session for your beloved pet. Each session is carefully crafted to capture their unique personality.</p>
          </div>
          <div class="session-card-footer">
            <button type="button" data-action="start" aria-label="Start session builder">Start Your Journey ‚Üí</button>
          </div>
        </div>
      `, true);

      const card1 = createCard(`
        <div class="session-card-body">
          <div class="session-card-content">
            <h2>‚ú® Mini Session</h2>
            <ul class="session-info-list">
              <li>‚è±Ô∏è Up to 60 minutes of shooting</li>
              <li>üì∏ 5 professionally edited photos</li>
              <li>üë• 1 person + 1 pet included</li>
              <li>üíæ Full resolution digital downloads</li>
              <li>üõí Access to premium print shop</li>
            </ul>
          </div>
          <div class="session-card-footer">
            <button type="button" data-action="next" aria-label="Continue to full session">Continue ‚Üí</button>
          </div>
        </div>
      `);

      const card2 = createCard(`
        <div class="session-card-body">
          <div class="session-card-content">
            <h2>üåü Full Session</h2>
            <ul class="session-info-list">
              <li>‚è±Ô∏è Up to 90 minutes of shooting</li>
              <li>üì∏ 10 professionally edited photos</li>
              <li>üë• 1 person + 1 pet included</li>
              <li>üíæ Full resolution digital downloads</li>
              <li>üõí Access to premium print shop</li>
              <li>üéÅ Bonus lifestyle shots included</li>
            </ul>
          </div>
          <div class="session-card-footer">
            <button type="button" data-action="next" aria-label="Continue to questions">Let's Customize ‚Üí</button>
          </div>
        </div>
      `);

      const card3 = createCard(`
        <div class="session-card-body" id="questionCard">
          <!-- Question content will be populated here -->
        </div>
      `);

      const card4 = createCard(`
        <div class="session-card-body">
          <div class="session-card-content">
            <h2>üêï Pet Behavior Policy</h2>
            <div class="agreement-text">
              <p><strong>For everyone's safety and enjoyment:</strong></p>
              <p>All pets must be well-behaved and under control during the session. Pet owners are fully responsible for their pet's behavior throughout the shoot.</p>
              <p>Sessions that are disrupted by aggressive or uncontrollable behavior may need to be terminated without refund. We shoot in both public and private settings, so respectful behavior from all participants is essential for a successful session.</p>
            </div>
          </div>
          <div class="session-card-footer">
            <button type="button" class="back-btn" data-action="back" aria-label="Go back">‚Üê Back</button>
            <button type="button" data-action="agree" data-agreement="behavior" aria-label="Agree to behavior policy">I Understand & Agree ‚Üí</button>
            <button type="button" class="restart-btn" data-action="restart" aria-label="Restart session">üîÑ Start Over</button>
          </div>
        </div>
      `);
      card4.classList.add('agreement-card');

      const card5 = createCard(`
        <div class="session-card-body">
          <div class="session-card-content">
            <h2>üì∏ Photography Rights Agreement</h2>
            <div class="agreement-text">
              <p><strong>Image ownership and usage rights:</strong></p>
              <p>By participating in this session, you acknowledge that all photographs remain the intellectual property of PictureThisPet. You will receive high-resolution files for personal use, while the photographer retains ownership and marketing rights.</p>
              <p>You may not edit, alter, or sell these images without explicit permission. You are granted a perpetual license for personal sharing and printing, while commercial usage rights remain reserved.</p>
            </div>
          </div>
          <div class="session-card-footer">
            <button type="button" class="back-btn" data-action="back" aria-label="Go back">‚Üê Back</button>
            <button type="button" data-action="agree" data-agreement="service" aria-label="Agree to photography service agreement">I Understand & Agree ‚Üí</button>
            <button type="button" class="restart-btn" data-action="restart" aria-label="Restart session">üîÑ Start Over</button>
          </div>
        </div>
      `);
      card5.classList.add('agreement-card');

      const card6 = createCard(`
        <div class="session-card-body">
          <div class="session-card-content">
            <h2>üìÖ Booking & Cancellation Policy</h2>
            <div class="agreement-text">
              <p><strong>Important booking terms:</strong></p>
              <p>All session payments are non-refundable. Rescheduling requires at least 48 hours advance notice. We accommodate rescheduling for severe weather conditions and genuine emergencies.</p>
              <p>Missed appointments or last-minute cancellations (under 48 hours) forfeit both rescheduling privileges and refunds. Sessions are only confirmed after full payment is received.</p>
            </div>
          </div>
          <div class="session-card-footer">
            <button type="button" class="back-btn" data-action="back" aria-label="Go back">‚Üê Back</button>
            <button type="button" data-action="agree" data-agreement="cancellation" aria-label="Agree and continue to pick a date">I Understand & Continue to Booking ‚Üí</button>
            <button type="button" class="restart-btn" data-action="restart" aria-label="Restart session">üîÑ Start Over</button>
          </div>
        </div>
      `);
      card6.classList.add('agreement-card');

      container.appendChild(card0);
      container.appendChild(card1);
      container.appendChild(card2);
      container.appendChild(card3);
      container.appendChild(card4);
      container.appendChild(card5);
      container.appendChild(card6);

      currentQuestion = 0;
      renderCurrentQuestion();
      addButtonListeners();
    }

    // Session data management
    function saveSessionData() {
      localStorage.setItem("ptpSessionData", JSON.stringify(sessionData));
    }

    function handleSessionSelection(field, value) {
      sessionData[field] = value;
      saveSessionData();
    }

    function acceptAgreement(type) {
      if (type === 'behavior') sessionData.acceptedBehaviorPolicy = true;
      if (type === 'service') sessionData.acceptedServiceAgreement = true;
      if (type === 'cancellation') sessionData.acceptedCancellationPolicy = true;
      saveSessionData();
    }

    function redirectToPickADate() {
      if (sessionData.acceptedBehaviorPolicy &&
          sessionData.acceptedServiceAgreement &&
          sessionData.acceptedCancellationPolicy) {
        saveSessionData();
        window.location.href = '/ptp-pick-date-step-3.html';
      } else {
        alert("Please accept all agreements to continue.");
      }
    }

    // Initialize everything
    document.addEventListener('DOMContentLoaded', function() {
      // Load existing session data
      const saved = localStorage.getItem("ptpSessionData");
      if (saved) {
        const parsed = JSON.parse(saved);
        Object.assign(sessionData, parsed);
      }

      // Initialize session builder
      currentCard = 0;
      currentQuestion = 0;
      cardHistory = [];
      initializeSessionBuilder();

      console.log('‚ú® Polished homepage initialized successfully');
    });

    // Smooth scroll restoration
    window.onbeforeunload = function () {
      window.scrollTo(0, 0);
    };
  </script>
</body>
</html>
