<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Picture This Pet | Capture Timeless Memories</title>
  <meta name="description" content="Professional pet photography that captures timeless moments. Book your session today.">
  <meta name="robots" content="noarchive, noodp, noimageindex">
  <link rel="canonical" href="https://picturethispet.co/" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Inter:wght@400;600&display=swap" rel="stylesheet" />

  <style>
    :root {
      --orange: #F47C2C;
      --gold: #FDB75E;
      --dark-brown: #4B2E1E;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    html {
      overflow-x: hidden;
      scrollbar-width: none; /* Firefox */
      -ms-overflow-style: none; /* Internet Explorer 10+ */
    }
    
    html::-webkit-scrollbar { /* WebKit */
      width: 0;
      height: 0;
    }
    
    body {
      font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
      color: white;
      background: none;
      overflow-x: hidden;
    }

    @keyframes moveBackground {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* === HEADER STYLES === */
    header, footer {
      background-image: url("assets/images/main_background_allsystem.png");
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      background-attachment: fixed;
      animation: moveBackground 30s ease-in-out infinite;
      background-size: 100% 100%;
    }
    
    header {
      width: 100%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.01rem 1.5rem;
      background-color: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(8px);
      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.3);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      position: fixed;
      top: 0;
      left: 0;
      z-index: 1000;
      height: 110px;
    }
    
    .desktop-logo {
      height: 100px;
    }

    .logo-link {
      display: flex;
      align-items: center;
      transition: opacity 0.3s ease;
      text-decoration: none;
    }

    .logo-link:hover {
      opacity: 0.8;
    }
    
    .site-nav {
      display: flex;
      align-items: center;
      margin-left: auto;
    }
    
    .site-nav a {
      color: white;
      margin-left: 1rem;
      text-decoration: none;
      font-weight: 600;
    }
    
    .book-btn {
      background-color: var(--dark-brown);
      color: white;
      padding: 0.6rem 1.2rem;
      border-radius: 999px;
      font-weight: bold;
      text-decoration: none;
      margin-left: 1rem;
    }
    
    .mobile-menu-btn {
      display: none;
    }

    /* === HERO SECTION === */
    .hero-section {
      margin-top: 110px;
      position: relative;
      width: 100vw;
      margin-left: calc(-50vw + 50%);
    }
    
    .hero-section img {
      width: 100%;
      height: auto;
      display: block;
    }
    
    .gradient-text {
      font-family: 'Playfair Display', serif;
      font-weight: 700;
      font-size: 3rem;
      position: absolute;
      top: 20px;
      right: 40px;
      background: url("assets/images/ani_bkgd_cool.png");
      background-size: 200%;
      background-position: center;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-align: right;
      max-width: 320px;
      pointer-events: none;
    }

    /* === SECTION SPLIT === */
    .section-split {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 2rem 2rem 3rem;
      position: relative;
      background-image: url("assets/images/main_background_allsystem.png");
      background-size: 100% 100%;
      background-position: center;
      background-repeat: no-repeat;
      background-attachment: fixed;
      animation: moveBackground 30s ease-in-out infinite;
      box-shadow: 0 30px 60px rgba(0, 0, 0, 0.25);
      z-index: 1;
      width: 100vw;
      margin-left: calc(-50vw + 50%);
    }
    
    .section-split::before {
      content: "";
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background-image: url("assets/images/main_background_allsystem.png");
      background-size: 100% 100%;
      background-position: center;
      background-repeat: no-repeat;
      z-index: -1;
      animation: moveBackground 30s ease-in-out infinite;
      opacity: 0.5;
    }
    
    .side-a, .side-b {
      flex: 1;
      padding: 2rem;
    }
    
    .side-a {
      display: flex;
      justify-content: flex-end;
      align-items: center;
      text-align: right;
    }
    
    .side-a h1 {
      max-width: 420px;
      margin-left: auto;
      font-family: 'Inter', sans-serif;
      font-weight: 900;
      font-size: 3.8rem;
      line-height: 1.25;
      background: url("assets/images/ani_bkgd_cool.png");
      background-size: cover;
      background-position: center;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-align: left;
    }
    
    .side-b-inner {
      display: flex;
      flex-direction: column;
      text-align: left;
      max-width: 420px;
    }
    
    .side-b h2 {
      font-family: 'Playfair Display', serif;
      font-weight: 700;
      font-size: 2.3rem;
      line-height: 1.3;
      margin-bottom: 1rem;
    }
    
    .side-b p {
      font-family: 'Inter', sans-serif;
      font-size: 1.35rem;
      line-height: 1.75;
      max-width: 480px;
      margin: 0 auto;
    }

    /* === SESSION BUILDER SECTION === */
    section#session-builder-section {
      padding: 6rem 1rem;
      background: url('assets/images/main_background_allsystem.png');
      background-size: 100% 100%;
      animation: moveBackground 30s ease-in-out infinite;
      position: relative;
      overflow: hidden;
      width: 100vw;
      margin-left: calc(-50vw + 50%);
    }

    .session-builder-header {
      text-align: center;
      margin-bottom: 3rem;
    }

    .session-heading {
      font-family: 'Inter', sans-serif;
      font-weight: 900;
      font-size: 3.8rem;
      line-height: 1.25;
      background: url('assets/images/ani_bkgd_cool.png');
      background-size: cover;
      background-position: center;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 1rem;
    }

    .session-subtext {
      color: white;
      font-size: 1.2rem;
      font-family: 'SF Pro Display', sans-serif;
      max-width: 650px;
      margin: 0 auto;
      text-align: center;
      opacity: 0.9;
      line-height: 1.6;
    }

    /* === SESSION CARDS === */
    .session-card-stack {
      max-width: 1200px;
      margin: 0 auto;
      position: relative;
      height: auto;
      z-index: 2;
      min-height: 700px; /* Increased to accommodate larger cards */
      display: flex;
      justify-content: center;
      align-items: center; /* Center cards vertically */
    }

    .session-card {
      background-image: url('assets/images/ani_bkgd_cool.png');
      background-size: 100% 100%;
      background-position: center;
      height: 580px;
      width: 100%;
      max-width: 600px;
      animation: moveBackground 30s ease-in-out infinite;
      border-radius: 24px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      padding: 2.5rem;
      color: white;
      font-family: 'SF Pro Display', sans-serif;
      transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
      opacity: 0;
      transform: translate(-50%, -50%) scale(0.9);
      display: none;
      position: absolute;
      top: 50%;
      left: 50%;
      transform-origin: center;
      overflow: hidden;
    }

    /* Desktop Agreement Cards - MUCH BIGGER (15% increase) */
    .session-card.agreement-card {
      height: 805px; /* Increased by 15% from 700px */
      max-width: 1200px;
      width: 90vw;
      padding: 3rem 4rem;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      align-items: center;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0.9);
    }

    .session-card.agreement-card.active {
      display: flex;
      opacity: 1;
      transform: translate(-50%, -50%) scale(1);
    }

    .session-card.agreement-card .session-card-logo {
      margin: 0 auto 2rem;
      max-width: 140px;
      flex-shrink: 0;
    }

    .session-card.agreement-card .session-card-body {
      text-align: center;
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      width: 100%;
      padding-bottom: 2rem;
      max-width: 900px;
    }

    .session-card.agreement-card .session-card-body h2 {
      font-size: 2.2rem;
      margin-bottom: 2rem;
      line-height: 1.2;
    }

    .session-card.agreement-card .agreement-text {
      font-size: 1.1rem;
      padding: 1.5rem 2rem; /* Tightened padding - reduced from 2.5rem */
      margin: 1.5rem 0; /* Reduced margin from 2rem */
      line-height: 1.8;
      max-width: 700px; /* Reduced from 800px to tighten container */
      width: 100%;
    }

    .session-card.agreement-card .session-card-footer,
    .session-card.agreement-card .navigation-buttons {
      margin-top: 2rem;
      padding-top: 0; /* REMOVED padding-top that was creating lines */
      border-top: none; /* REMOVED border-top that was creating lines */
      flex-direction: row;
      gap: 2rem;
      width: 100%;
      justify-content: center;
      flex-shrink: 0;
    }

    .session-card.agreement-card .session-card-footer button,
    .session-card.agreement-card .navigation-buttons button {
      padding: 1rem 2.5rem;
      font-size: 1.1rem;
      min-width: 180px;
    }

    .session-card.active {
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      align-items: center;
      opacity: 1;
      transform: translate(-50%, -50%) scale(1);
      position: absolute;
      top: 50%;
      left: 50%;
    }

    .session-card.agreement-card.active {
      display: flex;
    }

    .session-card.exiting {
      opacity: 0;
      transform: translate(-50%, -50%) scale(0.8);
    }

    .session-card-logo {
      display: block;
      max-width: 180px;
      margin: 0 auto 2.5rem;
      height: auto;
      flex-shrink: 0;
    }

    .session-card-logo[src=""], 
    .session-card-logo:not([src]) {
      display: none;
    }

    .session-card-body {
      text-align: center;
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      width: 100%;
      min-height: 0;
      padding-bottom: 2rem;
    }

    .session-card-body h2 {
      font-size: 2.2rem;
      font-weight: 700;
      margin-bottom: 2rem;
      color: white;
    }

    .session-card-body h3 {
      font-size: 2.2rem;
      font-weight: 700;
      margin-bottom: 2rem;
      color: white;
    }

    .session-card-body p {
      font-size: 1.1rem;
      line-height: 1.6;
      opacity: 0.9;
      margin-bottom: 2rem;
      max-width: 400px;
      margin-left: auto;
      margin-right: auto;
    }

    .agreement-text {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 16px;
      padding: 2rem;
      margin: 1.5rem 0;
      border: 1px solid rgba(255, 255, 255, 0.1);
      text-align: left;
      line-height: 1.6;
      font-size: 1rem;
      max-width: 500px;
      margin-left: auto;
      margin-right: auto;
    }

    .session-info-list {
      list-style: none;
      padding: 0;
      margin: 2rem 0;
      text-align: left;
      max-width: 320px;
      margin-left: auto;
      margin-right: auto;
    }

    .session-info-list li {
      font-size: 1.1rem;
      padding: 0.75rem 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      display: flex;
      align-items: center;
    }

    .session-info-list li:last-child {
      border-bottom: none;
      padding-bottom: 1.5rem;
    }

    .question-prompt {
      font-size: 2rem;
      font-weight: 600;
      margin-bottom: 2.5rem;
      color: white;
    }

    .answer-options {
      display: flex;
      gap: 1rem;
      margin-bottom: 2.5rem;
      flex-wrap: wrap;
      justify-content: center;
    }

    .answer-button {
      background: rgba(255, 255, 255, 0.1);
      color: white;
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-radius: 12px;
      padding: 1rem 2rem;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
      min-width: 140px;
    }

    .answer-button:hover {
      background: rgba(255, 255, 255, 0.25);
      border-color: rgba(255, 255, 255, 0.5);
      transform: translateY(-2px);
    }

    .session-card-footer {
      margin-top: auto;
      display: flex;
      justify-content: center;
      gap: 1rem;
      width: 100%;
      flex-shrink: 0;
      padding-top: 2rem;
    }

    .session-card-footer button,
    .continue-btn,
    .primary-btn {
      background: rgba(255, 255, 255, 0.1);
      color: white;
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-radius: 12px;
      padding: 1rem 2rem;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
      text-decoration: none;
      display: inline-block;
      text-align: center;
    }

    .session-card-footer button:hover,
    .continue-btn:hover,
    .primary-btn:hover {
      background: rgba(255, 255, 255, 0.25);
      border-color: rgba(255, 255, 255, 0.5);
      transform: translateY(-2px);
    }

    .navigation-buttons {
      display: flex;
      gap: 1rem;
      margin-top: 2.5rem;
      justify-content: center;
      width: 100%;
      flex-shrink: 0;
      padding-top: 1.5rem;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }

    .back-btn,
    .restart-btn {
      background: rgba(255, 255, 255, 0.05);
      color: rgba(255, 255, 255, 0.7);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 8px;
      padding: 0.75rem 1.5rem;
      font-size: 0.9rem;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .back-btn:hover,
    .restart-btn:hover {
      background: rgba(255, 255, 255, 0.1);
      color: white;
      border-color: rgba(255, 255, 255, 0.3);
    }

    /* === FOOTER === */
    footer {
      background-color: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(8px);
      box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.1);
      text-align: center;
      padding: 2rem 1rem;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      width: 100vw;
      margin-left: calc(-50vw + 50%);
    }

    .payments img {
      height: 30px;
      margin: 0 1rem;
      filter: brightness(0) invert(1);
    }

    /* === RESPONSIVE DESIGN === */
    @media (max-width: 768px) {
      header {
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
        height: 80px;
        padding: 0.5rem 1rem;
      }
      
      .desktop-logo { 
        height: 48px; 
      }
      
      .site-nav {
        display: none;
        flex-direction: column;
        background: rgba(0,0,0,0.9);
        position: absolute;
        top: 80px;
        right: 0;
        width: 100%;
        text-align: right;
        padding: 1rem;
        z-index: 999;
      }
      
      .site-nav a {
        display: block;
        margin: 0.5rem 0;
        font-size: 1.2rem;
      }
      
      .mobile-menu-btn {
        display: block;
        background: none;
        border: none;
        color: white;
        font-size: 2rem;
        cursor: pointer;
      }
      
      .hero-section {
        margin-top: 80px;
      }
      
      .section-split {
        flex-direction: column;
        text-align: center;
        padding: 1.5rem 1rem;
        gap: 0.5rem;
      }
      
      .side-a h1, .side-b h2, .side-b p {
        text-align: center;
      }

      .side-a h1 {
        font-size: 2.5rem;
      }

      .side-b h2 {
        font-size: 1.8rem;
      }

      .side-b p {
        font-size: 1.1rem;
      }

      /* Mobile Session Builder */
      section#session-builder-section {
        padding: 4rem 1rem;
      }

      .session-heading {
        font-size: 2.5rem;
      }

      .session-subtext {
        font-size: 1rem;
        padding: 0 1rem;
        max-width: 90%;
      }

      .session-card-stack {
        height: auto;
        min-height: 400px;
      }

      .session-card {
        height: 600px;
        padding: 2rem 1.5rem;
      }

      /* Mobile Agreement Cards - Much Bigger (60% increase) */
      .session-card.agreement-card {
        height: 960px; /* Increased by 60% from 600px base */
        max-width: 600px;
        padding: 3rem 2rem; /* Increased padding */
        display: flex;
        flex-direction: column;
        grid-template-columns: none;
        gap: 0;
        align-items: center;
        justify-content: flex-start;
      }

      .session-card.agreement-card.active {
        display: flex;
      }

      .session-card.agreement-card .session-card-logo {
        margin: 0 auto 2.5rem;
        max-width: 140px;
        grid-column: unset;
        flex-shrink: 0;
      }

      .session-card.agreement-card .session-card-body {
        grid-column: unset;
        text-align: center;
        padding-bottom: 2rem;
        flex: 1;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        align-items: center;
        width: 100%;
        min-height: 0;
      }

      .session-card.agreement-card .session-card-body h2 {
        font-size: 1.8rem;
        margin-bottom: 2rem;
      }

      .session-card.agreement-card .agreement-text {
        font-size: 1rem;
        padding: 2rem;
        margin: 2rem 0;
        line-height: 1.7;
        max-width: 500px;
        margin-left: auto;
        margin-right: auto;
      }

      .session-card.agreement-card .session-card-footer,
      .session-card.agreement-card .navigation-buttons {
        grid-column: unset;
        margin-top: 2rem;
        padding-top: 1.5rem;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        flex-direction: column;
        align-items: center;
        gap: 1rem;
        width: 100%;
        flex-shrink: 0;
      }

      .session-card-logo {
        margin-bottom: 2rem;
        max-width: 150px;
      }

      .session-card-body {
        padding-bottom: 2rem;
      }

      .session-card-body h2,
      .session-card-body h3 {
        font-size: 1.8rem;
        margin-bottom: 1.5rem;
      }

      .session-info-list {
        margin: 1rem 0 2rem 0;
      }

      .session-info-list li {
        padding: 0.6rem 0;
        font-size: 1rem;
      }

      .session-info-list li:last-child {
        padding-bottom: 1.5rem;
      }

      .question-prompt {
        font-size: 1.6rem;
        margin-bottom: 2rem;
      }

      .answer-options {
        flex-direction: column;
        align-items: center;
        gap: 1rem;
        margin-bottom: 2rem;
      }

      .answer-button {
        width: 100%;
        max-width: 280px;
        padding: 1.2rem 1.5rem;
      }

      .navigation-buttons {
        flex-direction: column;
        align-items: center;
        gap: 1rem;
        margin-top: 2rem;
        padding-top: 1.5rem;
      }

      .back-btn,
      .restart-btn {
        width: 100%;
        max-width: 200px;
        padding: 1rem 1.5rem;
        text-align: center;
      }

      .session-card-footer {
        margin-top: 2rem;
        padding-top: 1.5rem;
      }

      .session-card-footer button,
      .continue-btn {
        width: 100%;
        max-width: 300px;
        padding: 1.2rem 1.5rem;
      }
    }

    @media (min-width: 769px) {
      .mobile-menu-btn { 
        display: none !important; 
      }
      
      .side-a { 
        padding-left: 6rem; 
      }
      
      .side-b { 
        padding-right: 2rem; 
      }
    }
  </style>
  
  <script>
    window.onbeforeunload = function () {
      window.scrollTo(0, 0);
    };
    
    function toggleMenu() {
      const nav = document.querySelector('.site-nav');
      nav.style.display = nav.style.display === 'flex' ? 'none' : 'flex';
    }
  </script>
</head>
<body>
  <header>
    <a href="/" class="logo-link">
      <img src="assets/images/header_logo_cool_final.png" alt="PictureThisPet Logo" class="desktop-logo" />
    </a>
    <nav class="site-nav">
      <a href="#">Home</a>
      <a href="#">Locations</a>
      <a href="#">Pricing</a>
      <a href="#">Contact</a>
      <a href="#" class="book-btn">Book Now</a>
    </nav>
    <button class="mobile-menu-btn" onclick="toggleMenu()">‚ò∞</button>
  </header>
  
  <main>
    <section class="hero-section">
      <img src="assets/images/sec1_img_final.png" alt="Golden Retriever in Cheesman Park" />
      <div class="section-breaker-shadow"></div>
    </section>
    
    <section class="section-split">
      <div class="side-a">
        <h1>ONE DAY, THEY WON'T<br />BE THERE BY YOUR SIDE</h1>
      </div>
      <div class="side-b">
        <div class="side-b-inner">
          <h2>But these moments?<br />They'll last forever.</h2>
          <p>Photographs capture your pet's personality, their quirks, the joy they bring into your life. Years from now, you'll cherish those memories.</p>
        </div>
      </div>
    </section>

    <!-- SESSION BUILDER SECTION -->
    <section id="session-builder-section">
      <div class="session-builder-header">
        <h2 class="session-heading">Let's Find Your Perfect Session</h2>
        <p class="session-subtext">We take a unique approach to help you discover the perfect session type<br />for you and your pet. Just answer a few quick questions to get started.</p>
      </div>

      <div class="session-card-stack" id="sessionCardStack">
        <!-- Cards will be dynamically generated -->
      </div>
    </section>
  </main>

  <footer>
    <div class="payments">
      <img src="/api/placeholder/80/30" alt="Visa" />
      <img src="/api/placeholder/80/30" alt="Mastercard" />
      <img src="/api/placeholder/80/30" alt="PayPal" />
    </div>
    <p>&copy; 2024 PictureThisPet. All rights reserved. | v2.0.0</p>
  </footer>

  <script>
    // Session Builder Logic - FIXED VERSION
    const sessionData = {
      session: '',
      park: '',
      petCount: '',
      peopleCount: ''
    };

    const questions = [
      { label: "What type of session?", name: "session", options: ["Mini", "Full"] },
      { label: "Which park location?", name: "park", options: ["Cheesman Park", "City Park"] },
      { label: "How many pets? (max 2)", name: "petCount", options: ["1", "2"] },
      { label: "How many people? (max 2)", name: "peopleCount", options: ["1", "2"] }
    ];

    let currentCard = 0;
    let currentQuestion = 0;
    let cardHistory = []; // Track card navigation history

    // Load existing data from localStorage
    function loadSessionData() {
      const saved = localStorage.getItem("ptpSessionData");
      if (saved) {
        Object.assign(sessionData, JSON.parse(saved));
      }
    }

    // Save data to localStorage
    function saveSessionData() {
      localStorage.setItem("ptpSessionData", JSON.stringify(sessionData));
    }

    // Create card element
    function createCard(content, isActive = false) {
      const card = document.createElement("div");
      card.className = `session-card${isActive ? ' active' : ''}`;
      card.innerHTML = content;
      return card;
    }

    // Show specific card and track history properly
    function showCard(index) {
      const cards = document.querySelectorAll('.session-card');
      cards.forEach((card, i) => {
        if (i === index) {
          card.classList.add('active');
        } else {
          card.classList.remove('active');
        }
      });
      
      // Update card position
      currentCard = index;
      
      // If we're showing the question card (card 3), make sure the question is rendered
      if (index === 3) {
        setTimeout(() => {
          renderCurrentQuestion();
        }, 100);
      }
    }

    // Advance to next card with animation and track history
    function advanceCard() {
      const currentCardEl = document.querySelector('.session-card.active');
      
      // Add current card to history before advancing
      cardHistory.push(currentCard);
      
      if (currentCardEl) {
        currentCardEl.classList.add('exiting');
        setTimeout(() => {
          currentCardEl.classList.remove('active', 'exiting');
          showCard(currentCard + 1);
        }, 300);
      } else {
        showCard(currentCard + 1);
      }
    }

    // Go back to actual previous card using history
    function goBack() {
      if (cardHistory.length > 0) {
        const previousCard = cardHistory.pop(); // Get and remove last visited card
        
        // If we're going back from questions, adjust question index
        if (currentCard === 3 && currentQuestion > 0) {
          currentQuestion--;
          renderCurrentQuestion();
          return; // Stay on question card but show previous question
        }
        
        // If we're going back TO questions card, set up the last question
        if (previousCard === 3 && currentQuestion > 0) {
          currentQuestion--;
        }
        
        showCard(previousCard);
        
        // If we landed on questions card, render the current question
        if (previousCard === 3) {
          renderCurrentQuestion();
        }
      } else if (currentCard > 0) {
        // Fallback: simple previous card
        showCard(currentCard - 1);
      }
    }

    // Restart session
    function restartSession() {
      if (confirm("Are you sure you want to start over? This will clear all your selections.")) {
        // Clear data and history
        Object.keys(sessionData).forEach(key => sessionData[key] = '');
        localStorage.removeItem("ptpSessionData");
        currentCard = 0;
        currentQuestion = 0;
        cardHistory = [];
        
        // Reinitialize
        initializeSessionBuilder();
      }
    }

    // Handle question answer
    function handleQuestionAnswer(questionName, answer) {
      sessionData[questionName] = answer;
      saveSessionData();
      
      currentQuestion++;
      
      if (currentQuestion < questions.length) {
        // More questions - render next question
        setTimeout(() => {
          renderCurrentQuestion();
        }, 300);
      } else {
        // All questions answered - advance directly to agreements (skip summary)
        setTimeout(() => {
          advanceCard();
        }, 300);
      }
    }

    // Render current question
    function renderCurrentQuestion() {
      const questionCard = document.getElementById('questionCard');
      if (!questionCard) return;
      
      const question = questions[currentQuestion];
      if (!question) return;

      questionCard.innerHTML = `
        <div class="question-prompt">${question.label}</div>
        <div class="answer-options">
          ${question.options.map(option => 
            `<button class="answer-button" onclick="handleQuestionAnswer('${question.name}', '${option}')">
              ${option}
            </button>`
          ).join('')}
        </div>
        <div class="navigation-buttons">
          <button class="back-btn" onclick="goBack()">üîô Back</button>
          <button class="restart-btn" onclick="restartSession()">üîÑ Start Over</button>
        </div>
      `;
    }

    // Initialize all cards
    function initializeSessionBuilder() {
      const container = document.getElementById('sessionCardStack');
      container.innerHTML = '';

      // Card 0 - Intro
      const card0 = createCard(`
        <img src="assets/images/final_sessionbuilder_qcard_logo_warm.png" alt="PictureThisPet Logo" class="session-card-logo" />
        <div class="session-card-body">
          <h2>Let's go over what's included</h2>
          <p>In just a few quick steps, we'll help you pick the perfect session, and show you what's included with each option.</p>
        </div>
        <div class="session-card-footer">
          <button onclick="advanceCard()">Start ‚Üí</button>
        </div>
      `, true);

      // Card 1 - Mini Session Info
      const card1 = createCard(`
        <img src="assets/images/final_sessionbuilder_qcard_logo_warm.png" alt="PictureThisPet Logo" class="session-card-logo" />
        <div class="session-card-body">
          <h2>Mini Session</h2>
          <ul class="session-info-list">
            <li>‚úî Up to 60 minutes</li>
            <li>‚úî 5 edited photos</li>
            <li>‚úî 1 person + 1 pet included</li>
            <li>‚úî Access to downloads & print shop</li>
          </ul>
        </div>
        <div class="session-card-footer">
          <button onclick="advanceCard()">Next ‚Üí</button>
        </div>
      `);

      // Card 2 - Full Session Info
      const card2 = createCard(`
        <img src="assets/images/final_sessionbuilder_qcard_logo_warm.png" alt="PictureThisPet Logo" class="session-card-logo" />
        <div class="session-card-body">
          <h2>Full Session</h2>
          <ul class="session-info-list">
            <li>‚úî Up to 90 minutes</li>
            <li>‚úî 10 edited photos</li>
            <li>‚úî 1 person + 1 pet included</li>
            <li>‚úî Access to downloads & print shop</li>
          </ul>
        </div>
        <div class="session-card-footer">
          <button onclick="advanceCard()">Next ‚Üí</button>
        </div>
      `);

      // Card 3 - Questions (All questions will be rendered in this one card)
      const card3 = createCard(`
        <img src="assets/images/final_sessionbuilder_qcard_logo_warm.png" alt="PictureThisPet Logo" class="session-card-logo" />
        <div class="session-card-body" id="questionCard">
          <!-- Question content will be populated here -->
        </div>
      `);

      // REMOVED: Summary card (skip directly to agreements)

      // Card 4 - Behavior Policy Agreement
      const card4 = createCard(`
        <img src="assets/images/final_sessionbuilder_qcard_logo_warm.png" alt="PictureThisPet Logo" class="session-card-logo" />
        <div class="session-card-body">
          <h2>üêï Behavior Policy</h2>
          <div class="agreement-text">
            <p>All pets must be under control and well-behaved throughout the session. Owners are responsible for their pet's behavior at all times. Disruptive or aggressive behavior from pets or people may result in early termination of the session without refund. Sessions take place in public and private environments, so respectful behavior from all parties ‚Äî pets, owners, and humans alike ‚Äî is required to ensure a safe and fun experience for everyone involved.</p>
          </div>
        </div>
        <div class="session-card-footer">
          <button onclick="advanceCard()">Agree & Continue ‚Üí</button>
        </div>
        <div class="navigation-buttons">
          <button class="back-btn" onclick="goBack()">üîô Back</button>
          <button class="restart-btn" onclick="restartSession()">üîÑ Start Over</button>
        </div>
      `);
      card4.classList.add('agreement-card');

      // Card 5 - Photography Agreement
      const card5 = createCard(`
        <img src="assets/images/final_sessionbuilder_qcard_logo_warm.png" alt="PictureThisPet Logo" class="session-card-logo" />
        <div class="session-card-body">
          <h2>üì∏ Photography Service Agreement</h2>
          <div class="agreement-text">
            <p>By participating in this photo session, you agree that all photographs taken by PictureThisPet are the intellectual property of the photographer. You are purchasing high-resolution digital files for personal use, but the photographer retains full ownership and the right to use images for marketing, portfolio, and promotional purposes. You may not alter, edit, or sell the images without written permission. You are granted a perpetual license to share and print the images for personal use, but PictureThisPet reserves all commercial rights.</p>
          </div>
        </div>
        <div class="session-card-footer">
          <button onclick="advanceCard()">Agree & Continue ‚Üí</button>
        </div>
        <div class="navigation-buttons">
          <button class="back-btn" onclick="goBack()">üîô Back</button>
          <button class="restart-btn" onclick="restartSession()">üîÑ Start Over</button>
        </div>
      `);
      card5.classList.add('agreement-card');

      // Card 6 - Cancellation Policy Agreement
      const card6 = createCard(`
        <img src="assets/images/final_sessionbuilder_qcard_logo_warm.png" alt="PictureThisPet Logo" class="session-card-logo" />
        <div class="session-card-body">
          <h2>üìÖ Cancellation & Refund Policy</h2>
          <div class="agreement-text">
            <p>All session payments are non-refundable. However, sessions may be rescheduled with at least 48 hours' notice. In cases of severe weather or emergencies, we will work with you to find a new session date. Missed appointments or cancellations with less than 48 hours' notice are not eligible for rescheduling or refund. Your session is not guaranteed until full payment is received.</p>
          </div>
        </div>
        <div class="session-card-footer">
          <button onclick="window.location.href='/ptp-pick-date-step-3.html'">Agree & Continue to Pick a Date ‚Üí</button>
        </div>
        <div class="navigation-buttons">
          <button class="back-btn" onclick="goBack()">üîô Back</button>
          <button class="restart-btn" onclick="restartSession()">üîÑ Start Over</button>
        </div>
      `);
      card6.classList.add('agreement-card');

      // Add all cards to container
      container.appendChild(card0);
      container.appendChild(card1);
      container.appendChild(card2);
      container.appendChild(card3);
      container.appendChild(card4);
      container.appendChild(card5);
      container.appendChild(card6);

      // Reset question index and setup first question
      currentQuestion = 0;
      
      // Make sure the question card will be properly rendered when it becomes active
      setTimeout(() => {
        renderCurrentQuestion();
      }, 100);
    }

    // Initialize on page load
    document.addEventListener('DOMContentLoaded', function() {
      loadSessionData();
      initializeSessionBuilder();
    });
  </script>
</body>
</html>
