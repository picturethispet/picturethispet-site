<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Picture This Pet | Capture Timeless Memories</title>
  <meta name="description" content="Professional pet photography that captures timeless moments. Book your session today.">
  <meta name="robots" content="noarchive, noodp, noimageindex">
  <link rel="canonical" href="https://picturethispet.co/" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Inter:wght@400;600&display=swap" rel="stylesheet" />

  <style>
    :root {
      --orange: #F47C2C;
      --gold: #FDB75E;
      --dark-brown: #4B2E1E;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    html, body {
      overflow-x: hidden;
      overflow-y: auto;
    }
    
    body {
      font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
      color: white;
      background: none;
    }

    @keyframes moveBackground {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* === HEADER STYLES === */
    header, footer {
      background-image: url("assets/images/main_background_allsystem.png");
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      background-attachment: fixed;
      animation: moveBackground 30s ease-in-out infinite;
      background-size: 100% 100%;
    }
    
    header {
      width: 100%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.01rem 1.5rem;
      background-color: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(8px);
      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.3);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      position: fixed;
      top: 0;
      left: 0;
      z-index: 1000;
      height: 110px;
    }
    
    .desktop-logo {
      height: 100px;
    }

    .logo-link {
      display: flex;
      align-items: center;
      transition: opacity 0.3s ease;
      text-decoration: none;
    }

    .logo-link:hover {
      opacity: 0.8;
    }
    
    .site-nav {
      display: flex;
      align-items: center;
      margin-left: auto;
    }
    
    .site-nav a {
      color: white;
      margin-left: 1rem;
      text-decoration: none;
      font-weight: 600;
    }
    
    .book-btn {
      background-color: var(--dark-brown);
      color: white;
      padding: 0.6rem 1.2rem;
      border-radius: 999px;
      font-weight: bold;
      text-decoration: none;
      margin-left: 1rem;
    }
    
    .mobile-menu-btn {
      display: none;
    }

    /* === HERO SECTION === */
    .hero-section {
      margin-top: 100px;
      position: relative;
    }
    
    .hero-section img {
      width: 100%;
      height: auto;
      display: block;
    }
    
    .gradient-text {
      font-family: 'Playfair Display', serif;
      font-weight: 700;
      font-size: 3rem;
      position: absolute;
      top: 20px;
      right: 40px;
      background: url("assets/images/ani_bkgd_cool.png");
      background-size: 200%;
      background-position: center;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-align: right;
      max-width: 320px;
      pointer-events: none;
    }

    /* === SECTION SPLIT === */
    .section-split {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 2rem 2rem 3rem;
      position: relative;
      background-image: url("assets/images/main_background_allsystem.png");
      background-size: 100% 100%;
      background-position: center;
      background-repeat: no-repeat;
      background-attachment: fixed;
      animation: moveBackground 30s ease-in-out infinite;
      box-shadow: 0 30px 60px rgba(0, 0, 0, 0.25);
      z-index: 1;
    }
    
    .section-split::before {
      content: "";
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background-image: url("assets/images/main_background_allsystem.png");
      background-size: 100% 100%;
      background-position: center;
      background-repeat: no-repeat;
      z-index: -1;
      animation: moveBackground 30s ease-in-out infinite;
      opacity: 0.5;
    }
    
    .side-a, .side-b {
      flex: 1;
      padding: 2rem;
    }
    
    .side-a {
      display: flex;
      justify-content: flex-end;
      align-items: center;
      text-align: right;
    }
    
    .side-a h1 {
      max-width: 420px;
      margin-left: auto;
      font-family: 'Inter', sans-serif;
      font-weight: 900;
      font-size: 3.8rem;
      line-height: 1.25;
      background: url("assets/images/ani_bkgd_cool.png");
      background-size: cover;
      background-position: center;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-align: left;
    }
    
    .side-b-inner {
      display: flex;
      flex-direction: column;
      text-align: left;
      max-width: 420px;
    }
    
    .side-b h2 {
      font-family: 'Playfair Display', serif;
      font-weight: 700;
      font-size: 2.3rem;
      line-height: 1.3;
      margin-bottom: 1rem;
    }
    
    .side-b p {
      font-family: 'Inter', sans-serif;
      font-size: 1.35rem;
      line-height: 1.75;
      max-width: 480px;
      margin: 0 auto;
    }

    /* === SESSION BUILDER SECTION === */
    section#session-builder-section {
      padding: 6rem 1rem;
      background: url('assets/images/main_background_allsystem.png');
      background-size: 100% 100%;
      animation: moveBackground 30s ease-in-out infinite;
      position: relative;
      overflow: hidden;
    }

    /* === PROGRESS INDICATOR === */
    .session-progress-section {
      text-align: center;
      margin: 2rem auto;
      max-width: 600px;
      opacity: 0;
      transition: opacity 0.5s ease;
    }

    .session-progress-section.visible {
      opacity: 1;
    }

    .session-progress-steps {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1rem;
    }

    .session-progress-step {
      width: 35px;
      height: 35px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      border: 2px solid rgba(255, 255, 255, 0.3);
      color: rgba(255, 255, 255, 0.7);
      transition: all 0.3s ease;
      font-size: 0.9rem;
    }

    .session-progress-step.completed {
      background: var(--available-green);
      border-color: var(--available-green);
      color: white;
    }

    .session-progress-step.active {
      background: linear-gradient(135deg, var(--orange), var(--gold));
      border-color: var(--gold);
      color: white;
    }

    .session-progress-line {
      width: 50px;
      height: 2px;
      background: rgba(255, 255, 255, 0.3);
      position: relative;
    }

    .session-progress-line.completed {
      background: var(--available-green);
    }

    .session-progress-text {
      color: white;
      font-size: 1rem;
      opacity: 0.9;
    }

    .session-builder-header {
      text-align: center;
      margin-bottom: 3rem;
    }

    .session-heading {
      font-family: 'Inter', sans-serif;
      font-weight: 900;
      font-size: 3.8rem;
      line-height: 1.25;
      background: url('assets/images/ani_bkgd_cool.png');
      background-size: cover;
      background-position: center;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 1rem;
    }

    .session-subtext {
      color: white;
      font-size: 1.2rem;
      font-family: 'SF Pro Display', sans-serif;
      max-width: 650px;
      margin: 0 auto;
      text-align: center;
      opacity: 0.9;
      line-height: 1.6;
    }

    /* === SESSION CARDS === */
    .session-card-stack {
      max-width: 600px;
      margin: 0 auto;
      position: relative;
      height: auto;
      z-index: 2;
      min-height: 500px;
    }

    .session-card {
      background-image: url('assets/images/ani_bkgd_cool.png');
      background-size: 100% 100%;
      background-position: center;
      height: 580px;
      width: 100%;
      max-width: 600px;
      animation: moveBackground 30s ease-in-out infinite;
      border-radius: 24px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      padding: 2.5rem;
      color: white;
      font-family: 'SF Pro Display', sans-serif;
      transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
      opacity: 0;
      transform: scale(0.9);
      display: none;
      position: relative;
      overflow: hidden;
    }

    .session-card.agreement-card {
      height: 960px; /* Increased by 20% from 800px */
      padding: 3rem 2.5rem;
    }

    .session-card.active {
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      align-items: center;
      opacity: 1;
      transform: scale(1);
    }

    .session-card.exiting {
      opacity: 0;
      transform: scale(0.8);
    }

    .session-card-logo {
      display: block;
      max-width: 180px;
      margin: 0 auto 2.5rem;
      height: auto;
      flex-shrink: 0;
    }

    .session-card-logo[src=""], 
    .session-card-logo:not([src]) {
      display: none;
    }

    .session-card-body {
      text-align: center;
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      width: 100%;
      min-height: 0;
      padding-bottom: 2rem;
    }

    .session-card-body h2 {
      font-size: 2.2rem;
      font-weight: 700;
      margin-bottom: 2rem;
      color: white;
    }

    .session-card-body h3 {
      font-size: 2.2rem;
      font-weight: 700;
      margin-bottom: 2rem;
      color: white;
    }

    .session-card-body p {
      font-size: 1.1rem;
      line-height: 1.6;
      opacity: 0.9;
      margin-bottom: 2rem;
      max-width: 400px;
      margin-left: auto;
      margin-right: auto;
    }

    .agreement-text {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 16px;
      padding: 2rem;
      margin: 1.5rem 0;
      border: 1px solid rgba(255, 255, 255, 0.1);
      text-align: left;
      line-height: 1.6;
      font-size: 1rem;
      max-width: 500px;
      margin-left: auto;
      margin-right: auto;
    }

    .session-info-list {
      list-style: none;
      padding: 0;
      margin: 2rem 0;
      text-align: left;
      max-width: 320px;
      margin-left: auto;
      margin-right: auto;
    }

    .session-info-list li {
      font-size: 1.1rem;
      padding: 0.75rem 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      display: flex;
      align-items: center;
    }

    .session-info-list li:last-child {
      border-bottom: none;
      padding-bottom: 1.5rem;
    }

    .question-prompt {
      font-size: 2rem;
      font-weight: 600;
      margin-bottom: 2.5rem;
      color: white;
    }

    .answer-options {
      display: flex;
      gap: 1rem;
      margin-bottom: 2.5rem;
      flex-wrap: wrap;
      justify-content: center;
    }

    .answer-button {
      background: rgba(255, 255, 255, 0.1);
      color: white;
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-radius: 12px;
      padding: 1rem 2rem;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
      min-width: 140px;
    }

    .answer-button:hover {
      background: rgba(255, 255, 255, 0.25);
      border-color: rgba(255, 255, 255, 0.5);
      transform: translateY(-2px);
    }

    .session-card-footer {
      margin-top: auto;
      display: flex;
      justify-content: center;
      gap: 1rem;
      width: 100%;
      flex-shrink: 0;
      padding-top: 2rem;
    }

    .session-card-footer button,
    .continue-btn,
    .primary-btn {
      background: rgba(255, 255, 255, 0.1);
      color: white;
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-radius: 12px;
      padding: 1rem 2rem;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
      text-decoration: none;
      display: inline-block;
      text-align: center;
    }

    .session-card-footer button:hover,
    .continue-btn:hover,
    .primary-btn:hover {
      background: rgba(255, 255, 255, 0.25);
      border-color: rgba(255, 255, 255, 0.5);
      transform: translateY(-2px);
    }

    .navigation-buttons {
      display: flex;
      gap: 1rem;
      margin-top: 2.5rem;
      justify-content: center;
      width: 100%;
      flex-shrink: 0;
      padding-top: 1.5rem;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }

    .back-btn,
    .restart-btn {
      background: rgba(255, 255, 255, 0.05);
      color: rgba(255, 255, 255, 0.7);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 8px;
      padding: 0.75rem 1.5rem;
      font-size: 0.9rem;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .back-btn:hover,
    .restart-btn:hover {
      background: rgba(255, 255, 255, 0.1);
      color: white;
      border-color: rgba(255, 255, 255, 0.3);
    }

    /* === SUMMARY STYLES === */
    .session-summary h3 {
      font-size: 2.2rem;
      font-weight: 700;
      margin-bottom: 2rem;
      color: white;
    }

    .session-summary-list {
      list-style: none;
      padding: 0;
      margin: 1.5rem 0; /* Reduced from 2rem */
      text-align: left;
      max-width: 400px;
      margin-left: auto;
      margin-right: auto;
    }

    .session-summary-list li {
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      padding: 0.75rem 0; /* Reduced from 1rem */
      font-size: 1.1rem;
    }

    .session-summary-list li:last-child {
      border-bottom: none;
    }

    .session-summary-list li.total {
      font-weight: bold;
      font-size: 1.3rem;
      border-top: 2px solid rgba(255, 255, 255, 0.3);
      margin-top: 1rem;
      padding-top: 1rem;
    }

    .session-summary-list .label {
      color: rgba(255, 255, 255, 0.8);
    }

    .session-summary-list .value {
      color: white;
      font-weight: 600;
    }

    /* === FOOTER === */
    footer {
      background-color: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(8px);
      box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.1);
      text-align: center;
      padding: 2rem 1rem;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }

    .payments img {
      height: 30px;
      margin: 0 1rem;
      filter: brightness(0) invert(1);
    }

    /* === RESPONSIVE DESIGN === */
    @media (max-width: 768px) {
      header {
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
        height: 80px;
        padding: 0.5rem 1rem;
      }
      
      .desktop-logo { 
        height: 48px; 
      }
      
      .site-nav {
        display: none;
        flex-direction: column;
        background: rgba(0,0,0,0.9);
        position: absolute;
        top: 80px;
        right: 0;
        width: 100%;
        text-align: right;
        padding: 1rem;
        z-index: 999;
      }
      
      .site-nav a {
        display: block;
        margin: 0.5rem 0;
        font-size: 1.2rem;
      }
      
      .mobile-menu-btn {
        display: block;
        background: none;
        border: none;
        color: white;
        font-size: 2rem;
        cursor: pointer;
      }
      
      .hero-section {
        margin-top: 80px;
      }
      
      .section-split {
        flex-direction: column;
        text-align: center;
        padding: 1.5rem 1rem;
        gap: 0.5rem;
      }
      
      .side-a h1, .side-b h2, .side-b p {
        text-align: center;
      }

      .side-a h1 {
        font-size: 2.5rem;
      }

      .side-b h2 {
        font-size: 1.8rem;
      }

      .side-b p {
        font-size: 1.1rem;
      }

      /* Mobile Session Builder */
      section#session-builder-section {
        padding: 4rem 1rem;
      }

      .session-heading {
        font-size: 2.5rem;
      }

      .session-subtext {
        font-size: 1rem;
        padding: 0 1rem;
        max-width: 90%;
      }

      .session-card-stack {
        height: auto;
        min-height: 400px;
      }

      .session-card {
        height: 600px;
        padding: 2rem 1.5rem;
      }

      .session-card.agreement-card {
        height: 1152px; /* Increased by another 20% from 960px */
        padding: 3rem 1.5rem; /* Increased top/bottom padding */
      }

      .session-card-logo {
        margin-bottom: 2.5rem; /* Increased from 2rem for better spacing */
        max-width: 150px;
      }

      .session-card-body {
        padding-bottom: 2.5rem;
      }

      .session-card-body h2,
      .session-card-body h3 {
        font-size: 1.8rem;
        margin-bottom: 1.5rem;
      }

      .agreement-text {
        font-size: 0.95rem;
        padding: 1.5rem;
        margin: 1rem 0;
        line-height: 1.7;
      }

      .session-info-list {
        margin: 1rem 0 2rem 0; /* Reduced top margin */
      }

      .session-info-list li {
        padding: 0.6rem 0; /* Reduced from 0.8rem */
        font-size: 1rem;
      }

      .session-info-list li:last-child {
        padding-bottom: 1.5rem; /* Reduced from 2rem */
      }

      .question-prompt {
        font-size: 1.6rem;
        margin-bottom: 2rem;
      }

      .answer-options {
        flex-direction: column;
        align-items: center;
        gap: 1rem;
        margin-bottom: 2rem;
      }

      .answer-button {
        width: 100%;
        max-width: 280px;
        padding: 1.2rem 1.5rem;
      }

      .navigation-buttons {
        flex-direction: column;
        align-items: center;
        gap: 1rem; /* Increased gap for better spacing */
        margin-top: 2rem;
        padding-top: 1.5rem;
      }

      .back-btn,
      .restart-btn {
        width: 100%;
        max-width: 200px;
        padding: 1rem 1.5rem;
        text-align: center; /* Ensure text is centered */
      }

      .session-card-footer {
        margin-top: 2rem;
        padding-top: 1.5rem;
      }

      .session-card-footer button,
      .continue-btn {
        width: 100%;
        max-width: 300px;
        padding: 1.2rem 1.5rem;
      }
    }

    @media (min-width: 769px) {
      .mobile-menu-btn { 
        display: none !important; 
      }
      
      .side-a { 
        padding-left: 6rem; 
      }
      
      .side-b { 
        padding-right: 2rem; 
      }
    }
  </style>
  
  <script>
    window.onbeforeunload = function () {
      window.scrollTo(0, 0);
    };
    
    function toggleMenu() {
      const nav = document.querySelector('.site-nav');
      nav.style.display = nav.style.display === 'flex' ? 'none' : 'flex';
    }
  </script>
</head>
<body>
  <header>
    <a href="/" class="logo-link">
      <img src="assets/images/header_logo_cool_final.png" alt="PictureThisPet Logo" class="desktop-logo" />
    </a>
    <nav class="site-nav">
      <a href="#">Home</a>
      <a href="#">Locations</a>
      <a href="#">Pricing</a>
      <a href="#">Contact</a>
      <a href="#" class="book-btn">Book Now</a>
    </nav>
    <button class="mobile-menu-btn" onclick="toggleMenu()">‚ò∞</button>
  </header>
  
  <main>
    <section class="hero-section">
      <img src="assets/images/sec1_img_final.png" alt="Golden Retriever in Cheesman Park" />
      <div class="section-breaker-shadow"></div>
    </section>
    
    <section class="section-split">
      <div class="side-a">
        <h1>ONE DAY, THEY WON'T<br />BE THERE BY YOUR SIDE</h1>
      </div>
      <div class="side-b">
        <div class="side-b-inner">
          <h2>But these moments?<br />They'll last forever.</h2>
          <p>Photographs capture your pet's personality, their quirks, the joy they bring into your life. Years from now, you'll cherish those memories.</p>
        </div>
      </div>
    </section>

    <!-- SESSION BUILDER SECTION -->
    <section id="session-builder-section">
      <div class="session-builder-header">
        <h2 class="session-heading">Let's Find Your Perfect Session</h2>
        <p class="session-subtext">We take a unique approach to help you discover the perfect session type<br />for you and your pet. Just answer a few quick questions to get started.</p>
      </div>

      <div class="session-card-stack" id="sessionCardStack">
        <!-- Cards will be dynamically generated -->
      </div>

      <!-- Progress Indicator -->
      <div class="session-progress-section" id="sessionProgress">
        <div class="session-progress-steps">
          <div class="session-progress-step completed">1</div>
          <div class="session-progress-line completed"></div>
          <div class="session-progress-step completed">2</div>
          <div class="session-progress-line completed"></div>
          <div class="session-progress-step active">3</div>
          <div class="session-progress-line"></div>
          <div class="session-progress-step">4</div>
        </div>
        <p class="session-progress-text" id="sessionProgressText">Questions</p>
      </div>
    </section>
  </main>

  <footer>
    <div class="payments">
      <img src="/api/placeholder/80/30" alt="Visa" />
      <img src="/api/placeholder/80/30" alt="Mastercard" />
      <img src="/api/placeholder/80/30" alt="PayPal" />
    </div>
    <p>&copy; 2024 PictureThisPet. All rights reserved. | v2.0.0</p>
  </footer>

  <script>
    // Session Builder Logic
    const sessionData = {
      session: '',
      park: '',
      petCount: '',
      peopleCount: ''
    };

    const questions = [
      { label: "What type of session?", name: "session", options: ["Mini", "Full"] },
      { label: "Which park location?", name: "park", options: ["Cheesman Park", "City Park"] },
      { label: "How many pets? (max 2)", name: "petCount", options: ["1", "2"] },
      { label: "How many people? (max 2)", name: "peopleCount", options: ["1", "2"] }
    ];

    let currentCard = 0;
    let currentQuestion = 0;
    let cardHistory = []; // Track card navigation history

    // Load existing data from localStorage
    function loadSessionData() {
      const saved = localStorage.getItem("ptpSessionData");
      if (saved) {
        Object.assign(sessionData, JSON.parse(saved));
      }
    }

    // Save data to localStorage
    function saveSessionData() {
      localStorage.setItem("ptpSessionData", JSON.stringify(sessionData));
    }

    // Calculate total price
    function calculateTotal() {
      let total = 0;
      if (sessionData.session === "Mini") total += 50;
      if (sessionData.session === "Full") total += 100;
      if (sessionData.petCount === "2") total += 40;
      if (sessionData.peopleCount === "2") total += 20;
      return total;
    }

    // Create card element
    function createCard(content, isActive = false) {
      const card = document.createElement("div");
      card.className = `session-card${isActive ? ' active' : ''}`;
      card.innerHTML = content;
      return card;
    }

    // Update progress bar based on current card
    function updateProgressBar() {
      const progressSection = document.getElementById('sessionProgress');
      const progressText = document.getElementById('sessionProgressText');
      const steps = document.querySelectorAll('.session-progress-step');
      const lines = document.querySelectorAll('.session-progress-line');
      
      // Only show progress bar for cards 3 and 4 (questions and summary)
      if (currentCard >= 3 && currentCard <= 4) {
        progressSection.classList.add('visible');
        
        // Update progress based on current card
        if (currentCard === 3) {
          // Questions card
          progressText.textContent = 'Questions';
          steps[2].className = 'session-progress-step active';
          steps[3].className = 'session-progress-step';
          lines[2].className = 'session-progress-line';
        } else if (currentCard === 4) {
          // Summary card  
          progressText.textContent = 'Summary';
          steps[2].className = 'session-progress-step completed';
          steps[3].className = 'session-progress-step active';
          lines[2].className = 'session-progress-line completed';
        }
      } else {
        progressSection.classList.remove('visible');
      }
    }

    // Show specific card and track history properly
    function showCard(index) {
      const cards = document.querySelectorAll('.session-card');
      cards.forEach((card, i) => {
        if (i === index) {
          card.classList.add('active');
        } else {
          card.classList.remove('active');
        }
      });
      
      // Update card position
      currentCard = index;
      
      // Update progress bar
      updateProgressBar();
    }

    // Advance to next card with animation and track history
    function advanceCard() {
      const currentCardEl = document.querySelector('.session-card.active');
      
      // Add current card to history before advancing
      cardHistory.push(currentCard);
      
      if (currentCardEl) {
        currentCardEl.classList.add('exiting');
        setTimeout(() => {
          currentCardEl.classList.remove('active', 'exiting');
          showCard(currentCard + 1);
        }, 300);
      } else {
        showCard(currentCard + 1);
      }
    }

    // FIXED: Go back to actual previous card using history
    function goBack() {
      if (cardHistory.length > 0) {
        const previousCard = cardHistory.pop(); // Get and remove last visited card
        
        // If we're going back from questions, adjust question index
        if (currentCard === 3 && currentQuestion > 0) {
          currentQuestion--;
          renderCurrentQuestion();
          return; // Stay on question card but show previous question
        }
        
        // If we're going back TO questions card, set up the last question
        if (previousCard === 3 && currentQuestion > 0) {
          currentQuestion--;
        }
        
        showCard(previousCard);
        
        // If we landed on questions card, render the current question
        if (previousCard === 3) {
          renderCurrentQuestion();
        }
      } else if (currentCard > 0) {
        // Fallback: simple previous card
        showCard(currentCard - 1);
      }
    }

    // Restart session
    function restartSession() {
      if (confirm("Are you sure you want to start over? This will clear all your selections.")) {
        // Clear data and history
        Object.keys(sessionData).forEach(key => sessionData[key] = '');
        localStorage.removeItem("ptpSessionData");
        currentCard = 0;
        currentQuestion = 0;
        cardHistory = [];
        
        // Reinitialize
        initializeSessionBuilder();
      }
    }

    // Handle question answer
    function handleQuestionAnswer(questionName, answer) {
      sessionData[questionName] = answer;
      saveSessionData();
      
      currentQuestion++;
      
      if (currentQuestion < questions.length) {
        // More questions - render next question
        setTimeout(() => {
          renderCurrentQuestion();
        }, 300);
      } else {
        // All questions answered - advance to summary
        setTimeout(() => {
          advanceCard();
          renderSummary();
        }, 300);
      }
    }

    // Render current question
    function renderCurrentQuestion() {
      const questionCard = document.getElementById('questionCard');
      if (!questionCard) return;
      
      const question = questions[currentQuestion];
      if (!question) return;

      questionCard.innerHTML = `
        <div class="question-prompt">${question.label}</div>
        <div class="answer-options">
          ${question.options.map(option => 
            `<button class="answer-button" onclick="handleQuestionAnswer('${question.name}', '${option}')">
              ${option}
            </button>`
          ).join('')}
        </div>
        <div class="navigation-buttons">
          <button class="back-btn" onclick="goBack()">üîô Back</button>
          <button class="restart-btn" onclick="restartSession()">üîÑ Start Over</button>
        </div>
      `;
    }

    // Render summary
    function renderSummary() {
      const summaryCard = document.getElementById('summaryCard');
      const total = calculateTotal();
      
      if (summaryCard) {
        summaryCard.innerHTML = `
          <h3>Your Session Summary</h3>
          <ul class="session-summary-list">
            <li><span class="label">Session:</span> <span class="value">${sessionData.session || "‚Äî"}</span></li>
            <li><span class="label">Location:</span> <span class="value">${sessionData.park || "‚Äî"}</span></li>
            <li><span class="label">Pets:</span> <span class="value">${sessionData.petCount || "‚Äî"}</span></li>
            <li><span class="label">People:</span> <span class="value">${sessionData.peopleCount || "‚Äî"}</span></li>
            <li class="total"><span class="label">Total:</span> <span class="value">${total}</span></li>
          </ul>
          <div class="session-card-footer">
            <button class="continue-btn" onclick="advanceCard()">Continue to Agreements ‚Üí</button>
          </div>
          <div class="navigation-buttons">
            <button class="back-btn" onclick="goBack()">üîô Back</button>
            <button class="restart-btn" onclick="restartSession()">üîÑ Start Over</button>
          </div>
        `;
      }
    }

    // Initialize all cards
    function initializeSessionBuilder() {
      const container = document.getElementById('sessionCardStack');
      container.innerHTML = '';

      // Card 0 - Intro
      const card0 = createCard(`
        <img src="assets/images/final_sessionbuilder_qcard_logo_warm.png" alt="PictureThisPet Logo" class="session-card-logo" />
        <div class="session-card-body">
          <h2>Let's go over what's included</h2>
          <p>In just a few quick steps, we'll help you pick the perfect session, and show you what's included with each option.</p>
        </div>
        <div class="session-card-footer">
          <button onclick="advanceCard()">Start ‚Üí</button>
        </div>
      `, true);

      // Card 1 - Mini Session Info
      const card1 = createCard(`
        <img src="assets/images/final_sessionbuilder_qcard_logo_warm.png" alt="PictureThisPet Logo" class="session-card-logo" />
        <div class="session-card-body">
          <h2>Mini Session</h2>
          <ul class="session-info-list">
            <li>‚úî Up to 60 minutes</li>
            <li>‚úî 5 edited photos</li>
            <li>‚úî 1 person + 1 pet included</li>
            <li>‚úî Access to downloads & print shop</li>
          </ul>
        </div>
        <div class="session-card-footer">
          <button onclick="advanceCard()">Next ‚Üí</button>
        </div>
      `);

      // Card 2 - Full Session Info
      const card2 = createCard(`
        <img src="assets/images/final_sessionbuilder_qcard_logo_warm.png" alt="PictureThisPet Logo" class="session-card-logo" />
        <div class="session-card-body">
          <h2>Full Session</h2>
          <ul class="session-info-list">
            <li>‚úî Up to 90 minutes</li>
            <li>‚úî 10 edited photos</li>
            <li>‚úî 1 person + 1 pet included</li>
            <li>‚úî Access to downloads & print shop</li>
          </ul>
        </div>
        <div class="session-card-footer">
          <button onclick="advanceCard()">Next ‚Üí</button>
        </div>
      `);

      // Card 3 - Questions (All questions will be rendered in this one card)
      const card3 = createCard(`<div class="session-card-body" id="questionCard"></div>`);

      // Card 4 - Summary
      const card4 = createCard(`<div class="session-card-body" id="summaryCard"></div>`);

      // Card 5 - Behavior Policy Agreement
      const card5 = createCard(`
        <img src="assets/images/final_sessionbuilder_qcard_logo_warm.png" alt="PictureThisPet Logo" class="session-card-logo" />
        <div class="session-card-body">
          <h2>üêï Behavior Policy</h2>
          <div class="agreement-text">
            <p>All pets must be under control and well-behaved throughout the session. Owners are responsible for their pet's behavior at all times. Disruptive or aggressive behavior from pets or people may result in early termination of the session without refund. Sessions take place in public and private environments, so respectful behavior from all parties ‚Äî pets, owners, and humans alike ‚Äî is required to ensure a safe and fun experience for everyone involved.</p>
          </div>
        </div>
        <div class="session-card-footer">
          <button onclick="advanceCard()">Agree & Continue ‚Üí</button>
        </div>
        <div class="navigation-buttons">
          <button class="back-btn" onclick="goBack()">üîô Back</button>
          <button class="restart-btn" onclick="restartSession()">üîÑ Start Over</button>
        </div>
      `);
      card5.classList.add('agreement-card');

      // Card 6 - Photography Agreement
      const card6 = createCard(`
        <img src="assets/images/final_sessionbuilder_qcard_logo_warm.png" alt="PictureThisPet Logo" class="session-card-logo" />
        <div class="session-card-body">
          <h2>üì∏ Photography Service Agreement</h2>
          <div class="agreement-text">
            <p>By participating in this photo session, you agree that all photographs taken by PictureThisPet are the intellectual property of the photographer. You are purchasing high-resolution digital files for personal use, but the photographer retains full ownership and the right to use images for marketing, portfolio, and promotional purposes. You may not alter, edit, or sell the images without written permission. You are granted a perpetual license to share and print the images for personal use, but PictureThisPet reserves all commercial rights.</p>
          </div>
        </div>
        <div class="session-card-footer">
          <button onclick="advanceCard()">Agree & Continue ‚Üí</button>
        </div>
        <div class="navigation-buttons">
          <button class="back-btn" onclick="goBack()">üîô Back</button>
          <button class="restart-btn" onclick="restartSession()">üîÑ Start Over</button>
        </div>
      `);
      card6.classList.add('agreement-card');

      // Card 7 - Cancellation Policy Agreement
      const card7 = createCard(`
        <img src="assets/images/final_sessionbuilder_qcard_logo_warm.png" alt="PictureThisPet Logo" class="session-card-logo" />
        <div class="session-card-body">
          <h2>üìÖ Cancellation & Refund Policy</h2>
          <div class="agreement-text">
            <p>All session payments are non-refundable. However, sessions may be rescheduled with at least 48 hours' notice. In cases of severe weather or emergencies, we will work with you to find a new session date. Missed appointments or cancellations with less than 48 hours' notice are not eligible for rescheduling or refund. Your session is not guaranteed until full payment is received.</p>
          </div>
        </div>
        <div class="session-card-footer">
          <button onclick="window.location.href='/ptp-pick-date-step-3.html'">Agree & Continue to Pick a Date ‚Üí</button>
        </div>
        <div class="navigation-buttons">
          <button class="back-btn" onclick="goBack()">üîô Back</button>
          <button class="restart-btn" onclick="restartSession()">üîÑ Start Over</button>
        </div>
      `);
      card7.classList.add('agreement-card');

      // Add all cards to container
      container.appendChild(card0);
      container.appendChild(card1);
      container.appendChild(card2);
      container.appendChild(card3);
      container.appendChild(card4);
      container.appendChild(card5);
      container.appendChild(card6);
      container.appendChild(card7);

      // Setup first question
      renderCurrentQuestion();
    }

    // Initialize on page load
    document.addEventListener('DOMContentLoaded', function() {
      loadSessionData();
      initializeSessionBuilder();
    });
  </script>
</body>
</html><!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pick Your Date | Picture This Pet</title>
  <meta name="description" content="Select your preferred date for your pet photography session.">
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Inter:wght@400;600&display=swap" rel="stylesheet" />

  <style>
    :root {
      --orange: #F47C2C;
      --gold: #FDB75E;
      --dark-brown: #4B2E1E;
      --available-green: #10b981;
      --booked-red: #ef4444;
      --soft-hold-yellow: #f59e0b;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    html, body {
      overflow-x: hidden;
    }
    
    body {
      font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
      color: white;
      background: none;
    }

    @keyframes moveBackground {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* === HEADER === */
    header {
      background-image: url("assets/images/main_background_allsystem.png");
      background-size: 100% 100%;
      background-position: center;
      animation: moveBackground 30s ease-in-out infinite;
      width: 100%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.01rem 1.5rem;
      background-color: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(8px);
      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.3);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      position: fixed;
      top: 0;
      left: 0;
      z-index: 1000;
      height: 110px;
    }

    .logo-link {
      display: flex;
      align-items: center;
      transition: opacity 0.3s ease;
      text-decoration: none;
    }

    .logo-link:hover {
      opacity: 0.8;
    }
    
    .desktop-logo {
      height: 100px;
    }
    
    .site-nav {
      display: flex;
      align-items: center;
      margin-left: auto;
    }
    
    .site-nav a {
      color: white;
      margin-left: 1rem;
      text-decoration: none;
      font-weight: 600;
    }
    
    .book-btn {
      background-color: var(--dark-brown);
      color: white;
      padding: 0.6rem 1.2rem;
      border-radius: 999px;
      font-weight: bold;
      text-decoration: none;
      margin-left: 1rem;
    }
    
    .mobile-menu-btn {
      display: none;
    }

    /* === MAIN CONTENT === */
    main {
      margin-top: 110px;
      min-height: calc(100vh - 110px);
      background-image: url("assets/images/main_background_allsystem.png");
      background-size: 100% 100%;
      background-position: center;
      animation: moveBackground 30s ease-in-out infinite;
      padding: 4rem 1rem;
      position: relative;
    }

    /* === PROGRESS INDICATOR === */
    .progress-section {
      text-align: center;
      margin-bottom: 3rem;
    }

    .progress-steps {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1rem;
    }

    .progress-step {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      border: 2px solid rgba(255, 255, 255, 0.3);
      color: rgba(255, 255, 255, 0.7);
      transition: all 0.3s ease;
    }

    .progress-step.completed {
      background: var(--available-green);
      border-color: var(--available-green);
      color: white;
    }

    .progress-step.active {
      background: linear-gradient(135deg, var(--orange), var(--gold));
      border-color: var(--gold);
      color: white;
    }

    .progress-line {
      width: 60px;
      height: 2px;
      background: rgba(255, 255, 255, 0.3);
      position: relative;
    }

    .progress-line.completed {
      background: var(--available-green);
    }

    .progress-text {
      color: white;
      font-size: 1.1rem;
      opacity: 0.9;
    }

    /* === CALENDAR SECTION === */
    .calendar-section {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 3rem;
      align-items: start;
    }

    .calendar-card {
      background-image: url('assets/images/ani_bkgd_cool.png');
      background-size: 100% 100%;
      background-position: center;
      animation: moveBackground 30s ease-in-out infinite;
      border-radius: 24px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
      padding: 2rem;
      color: white;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .calendar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
    }

    .calendar-title {
      font-size: 1.8rem;
      font-weight: 700;
      color: white;
    }

    .calendar-nav {
      display: flex;
      gap: 1rem;
    }

    .nav-button {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.3);
      color: white;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .nav-button:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: scale(1.05);
    }

    /* === CALENDAR GRID === */
    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 1px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      overflow: hidden;
      margin-bottom: 2rem;
    }

    .calendar-day-header {
      background: rgba(255, 255, 255, 0.1);
      padding: 1rem 0.5rem;
      text-align: center;
      font-weight: 600;
      font-size: 0.9rem;
      color: rgba(255, 255, 255, 0.8);
    }

    .calendar-day {
      background: rgba(255, 255, 255, 0.05);
      padding: 1rem 0.5rem;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
      min-height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }

    .calendar-day:hover {
      background: rgba(255, 255, 255, 0.1);
    }

    .calendar-day.other-month {
      color: rgba(255, 255, 255, 0.3);
      cursor: not-allowed;
    }

    .calendar-day.past {
      color: rgba(255, 255, 255, 0.3);
      cursor: not-allowed;
    }

    .calendar-day.available {
      background: rgba(16, 185, 129, 0.2);
      border: 1px solid rgba(16, 185, 129, 0.5);
      color: white;
    }

    .calendar-day.available:hover {
      background: rgba(16, 185, 129, 0.3);
      transform: scale(1.05);
    }

    .calendar-day.booked {
      background: rgba(239, 68, 68, 0.2);
      border: 1px solid rgba(239, 68, 68, 0.5);
      color: rgba(255, 255, 255, 0.7);
      cursor: not-allowed;
    }

    .calendar-day.selected {
      background: linear-gradient(135deg, var(--orange), var(--gold));
      border: 2px solid var(--gold);
      color: white;
      transform: scale(1.05);
    }

    .calendar-legend {
      display: flex;
      gap: 2rem;
      justify-content: center;
      flex-wrap: wrap;
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.9rem;
    }

    .legend-dot {
      width: 16px;
      height: 16px;
      border-radius: 50%;
    }

    .legend-dot.available {
      background: rgba(16, 185, 129, 0.7);
    }

    .legend-dot.booked {
      background: rgba(239, 68, 68, 0.7);
    }

    .legend-dot.selected {
      background: linear-gradient(135deg, var(--orange), var(--gold));
    }

    /* === BOOKING SUMMARY === */
    .booking-summary {
      background-image: url('assets/images/ani_bkgd_cool.png');
      background-size: 100% 100%;
      background-position: center;
      animation: moveBackground 30s ease-in-out infinite;
      border-radius: 24px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
      padding: 2rem;
      color: white;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      height: fit-content;
    }

    .summary-title {
      font-size: 1.8rem;
      font-weight: 700;
      margin-bottom: 2rem;
      text-align: center;
    }

    .summary-section {
      margin-bottom: 2rem;
      padding: 1.5rem;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 16px;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .summary-section h3 {
      font-size: 1.2rem;
      font-weight: 600;
      margin-bottom: 1rem;
      color: rgba(255, 255, 255, 0.9);
    }

    .summary-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 0.5rem;
      font-size: 1rem;
    }

    .summary-item .label {
      color: rgba(255, 255, 255, 0.8);
    }

    .summary-item .value {
      color: white;
      font-weight: 600;
    }

    .time-selection {
      text-align: center;
      margin-bottom: 2rem;
    }

    .time-slot {
      background: rgba(255, 255, 255, 0.1);
      border: 2px solid rgba(255, 255, 255, 0.3);
      color: white;
      padding: 1rem 2rem;
      border-radius: 12px;
      font-size: 1.2rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      display: inline-block;
    }

    .time-slot.selected {
      background: linear-gradient(135deg, var(--orange), var(--gold));
      border-color: var(--gold);
    }

    .date-selection {
      text-align: center;
      margin-bottom: 2rem;
    }

    .selected-date {
      font-size: 1.3rem;
      font-weight: 600;
      color: var(--gold);
    }

    .continue-section {
      text-align: center;
    }

    .continue-btn {
      background: linear-gradient(135deg, var(--orange), var(--gold));
      color: white;
      border: none;
      padding: 1rem 3rem;
      border-radius: 12px;
      font-size: 1.2rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-block;
      opacity: 0.5;
      cursor: not-allowed;
    }

    .continue-btn.enabled {
      opacity: 1;
      cursor: pointer;
    }

    .continue-btn.enabled:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(244, 124, 44, 0.3);
    }

    .back-btn {
      background: rgba(255, 255, 255, 0.1);
      color: rgba(255, 255, 255, 0.8);
      border: 1px solid rgba(255, 255, 255, 0.3);
      padding: 0.8rem 2rem;
      border-radius: 8px;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-block;
      margin-right: 1rem;
    }

    .back-btn:hover {
      background: rgba(255, 255, 255, 0.2);
      color: white;
    }

    /* === RESPONSIVE === */
    @media (max-width: 768px) {
      header {
        height: 80px;
        padding: 0.5rem 1rem;
      }
      
      .desktop-logo {
        height: 48px;
      }
      
      .site-nav {
        display: none;
      }
      
      .mobile-menu-btn {
        display: block;
        background: none;
        border: none;
        color: white;
        font-size: 2rem;
        cursor: pointer;
      }

      main {
        margin-top: 80px;
        padding: 2rem 1rem;
      }

      .calendar-section {
        grid-template-columns: 1fr;
        gap: 2rem;
      }

      .calendar-card,
      .booking-summary {
        padding: 1.5rem;
      }

      .calendar-day {
        min-height: 40px;
        font-size: 0.9rem;
      }

      .calendar-day-header {
        padding: 0.8rem 0.3rem;
        font-size: 0.8rem;
      }

      .progress-steps {
        gap: 0.5rem;
      }

      .progress-step {
        width: 35px;
        height: 35px;
        font-size: 0.9rem;
      }

      .progress-line {
        width: 40px;
      }
    }

    /* === ANIMATIONS === */
    .calendar-card {
      animation: slideInLeft 0.8s ease-out;
    }

    .booking-summary {
      animation: slideInRight 0.8s ease-out;
    }

    @keyframes slideInLeft {
      from {
        opacity: 0;
        transform: translateX(-50px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }

    @keyframes slideInRight {
      from {
        opacity: 0;
        transform: translateX(50px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }
  </style>

  <script>
    function toggleMenu() {
      const nav = document.querySelector('.site-nav');
      nav.style.display = nav.style.display === 'flex' ? 'none' : 'flex';
    }
  </script>
</head>
<body>
  <header>
    <a href="/" class="logo-link">
      <img src="assets/images/header_logo_cool_final.png" alt="PictureThisPet Logo" class="desktop-logo" />
    </a>
    <nav class="site-nav">
      <a href="/">Home</a>
      <a href="#">Locations</a>
      <a href="#">Pricing</a>
      <a href="#">Contact</a>
      <a href="#" class="book-btn">Book Now</a>
    </nav>
    <button class="mobile-menu-btn" onclick="toggleMenu()">‚ò∞</button>
  </header>

  <main>
    <!-- Progress Indicator -->
    <div class="progress-section">
      <div class="progress-steps">
        <div class="progress-step completed">1</div>
        <div class="progress-line completed"></div>
        <div class="progress-step completed">2</div>
        <div class="progress-line completed"></div>
        <div class="progress-step active">3</div>
        <div class="progress-line"></div>
        <div class="progress-step">4</div>
        <div class="progress-line"></div>
        <div class="progress-step">5</div>
      </div>
      <p class="progress-text">Pick Your Date</p>
    </div>

    <!-- Calendar Section -->
    <div class="calendar-section">
      <!-- Calendar Card -->
      <div class="calendar-card">
        <div class="calendar-header">
          <h2 class="calendar-title" id="calendarTitle">December 2024</h2>
          <div class="calendar-nav">
            <button class="nav-button" onclick="previousMonth()">‚Äπ</button>
            <button class="nav-button" onclick="nextMonth()">‚Ä∫</button>
          </div>
        </div>

        <div class="calendar-grid" id="calendarGrid">
          <!-- Calendar will be generated by JavaScript -->
        </div>

        <div class="calendar-legend">
          <div class="legend-item">
            <div class="legend-dot available"></div>
            <span>Available</span>
          </div>
          <div class="legend-item">
            <div class="legend-dot booked"></div>
            <span>Booked</span>
          </div>
          <div class="legend-item">
            <div class="legend-dot selected"></div>
            <span>Selected</span>
          </div>
        </div>
      </div>

      <!-- Booking Summary Card -->
      <div class="booking-summary">
        <h2 class="summary-title">Booking Summary</h2>

        <!-- Session Details -->
        <div class="summary-section">
          <h3>Session Details</h3>
          <div id="sessionDetails">
            <!-- Will be populated by JavaScript -->
          </div>
        </div>

        <!-- Date Selection -->
        <div class="summary-section">
          <h3>Selected Date</h3>
          <div class="date-selection">
            <div class="selected-date" id="selectedDate">Please select a date</div>
          </div>
        </div>

        <!-- Time Selection -->
        <div class="summary-section">
          <h3>Session Time</h3>
          <div class="time-selection">
            <div class="time-slot selected" id="timeSlot">6:00 PM</div>
          </div>
        </div>

        <!-- Total Price -->
        <div class="summary-section">
          <div class="summary-item">
            <span class="label">Total Price:</span>
            <span class="value" id="totalPrice">$0</span>
          </div>
        </div>

        <!-- Continue Button -->
        <div class="continue-section">
          <a href="/" class="back-btn">‚Üê Back</a>
          <a href="#" class="continue-btn" id="continueBtn">Continue to Intake ‚Üí</a>
        </div>
      </div>
    </div>
  </main>

  <!-- Version Footer -->
  <footer style="text-align: center; padding: 1rem; background: rgba(0,0,0,0.3); border-top: 1px solid rgba(255,255,255,0.1);">
    <p style="color: rgba(255,255,255,0.5); font-size: 0.8rem;">¬© 2024 PictureThisPet. All rights reserved. | v2.0.0</p>
  </footer>

  <script>
    // Session Data Management
    let sessionData = {};
    let selectedDate = null;
    let selectedTime = "6:00 PM";
    let currentMonth = new Date();

    // Calendar Data (placeholder - will be replaced with real data)
    const bookedDates = [
      "2024-12-15",
      "2024-12-22",
      "2024-12-29",
      "2025-01-05",
      "2025-01-12"
    ];

    // Initialize page
    document.addEventListener('DOMContentLoaded', function() {
      loadSessionData();
      updateSessionSummary();
      generateCalendar();
    });

    // Load session data from localStorage
    function loadSessionData() {
      const saved = localStorage.getItem("ptpSessionData");
      if (saved) {
        sessionData = JSON.parse(saved);
      }
    }

    // Save session data to localStorage
    function saveSessionData() {
      localStorage.setItem("ptpSessionData", JSON.stringify(sessionData));
    }

    // Update session summary display
    function updateSessionSummary() {
      const details = document.getElementById('sessionDetails');
      const totalPrice = document.getElementById('totalPrice');
      
      let total = 0;
      if (sessionData.session === "Mini") total += 50;
      if (sessionData.session === "Full") total += 100;
      if (sessionData.petCount === "2") total += 40;
      if (sessionData.peopleCount === "2") total += 20;

      details.innerHTML = `
        <div class="summary-item">
          <span class="label">Session Type:</span>
          <span class="value">${sessionData.session || "‚Äî"}</span>
        </div>
        <div class="summary-item">
          <span class="label">Location:</span>
          <span class="value">${sessionData.park || "‚Äî"}</span>
        </div>
        <div class="summary-item">
          <span class="label">Pets:</span>
          <span class="value">${sessionData.petCount || "‚Äî"}</span>
        </div>
        <div class="summary-item">
          <span class="label">People:</span>
          <span class="value">${sessionData.peopleCount || "‚Äî"}</span>
        </div>
      `;

      totalPrice.textContent = `$${total}`;
    }

    // Generate calendar
    function generateCalendar() {
      const grid = document.getElementById('calendarGrid');
      const title = document.getElementById('calendarTitle');
      
      const year = currentMonth.getFullYear();
      const month = currentMonth.getMonth();
      
      title.textContent = new Intl.DateTimeFormat('en-US', { 
        month: 'long', 
        year: 'numeric' 
      }).format(currentMonth);

      // Clear grid
      grid.innerHTML = '';

      // Add day headers
      const dayHeaders = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
      dayHeaders.forEach(day => {
        const header = document.createElement('div');
        header.className = 'calendar-day-header';
        header.textContent = day;
        grid.appendChild(header);
      });

      // Calculate first day of month and number of days
      const firstDay = new Date(year, month, 1);
      const lastDay = new Date(year, month + 1, 0);
      const daysInMonth = lastDay.getDate();
      const startingDayOfWeek = firstDay.getDay();

      // Add empty cells for days before month starts
      for (let i = 0; i < startingDayOfWeek; i++) {
        const emptyDay = document.createElement('div');
        emptyDay.className = 'calendar-day other-month';
        grid.appendChild(emptyDay);
      }

      // Add days of the month
      for (let day = 1; day <= daysInMonth; day++) {
        const dayElement = document.createElement('div');
        dayElement.className = 'calendar-day';
        dayElement.textContent = day;
        
        const dateString = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
        const dayDate = new Date(year, month, day);
        
        // Mark past dates
        if (dayDate < new Date()) {
          dayElement.classList.add('past');
        }
        // Mark booked dates
        else if (bookedDates.includes(dateString)) {
          dayElement.classList.add('booked');
        }
        // Mark available dates (not Sunday, not booked, not past)
        else if (dayDate.getDay() !== 0) {
          dayElement.classList.add('available');
          dayElement.onclick = () => selectDate(dateString, dayElement);
        }
        
        grid.appendChild(dayElement);
      }
    }

    // Select date - FIXED VERSION
    function selectDate(dateString, element) {
      // Remove previous selection
      document.querySelectorAll('.calendar-day.selected').forEach(el => {
        el.classList.remove('selected');
      });
      
      // Add selection to clicked date
      element.classList.add('selected');
      
      selectedDate = dateString;
      
      // FIXED: Create date object correctly to avoid timezone issues
      const dateParts = dateString.split('-');
      const year = parseInt(dateParts[0]);
      const month = parseInt(dateParts[1]) - 1; // Month is 0-indexed
      const day = parseInt(dateParts[2]);
      const date = new Date(year, month, day);
      
      // Format the date properly
      const formattedDate = new Intl.DateTimeFormat('en-US', {
        weekday: 'long',
        year: 'numeric',
        month: 'long',
        day: 'numeric'
      }).format(date);
      
      console.log('Selected date string:', dateString);
      console.log('Formatted date:', formattedDate);
      
      document.getElementById('selectedDate').textContent = formattedDate;
      
      // Save to session data
      sessionData.selectedDate = dateString;
      sessionData.selectedTime = selectedTime;
      sessionData.selectedDateTime = `${formattedDate} at ${selectedTime}`;
      saveSessionData();
      
      // Enable continue button
      const continueBtn = document.getElementById('continueBtn');
      continueBtn.classList.add('enabled');
      continueBtn.href = '/intake-form.html';
    }

    // Navigation functions
    function previousMonth() {
      currentMonth.setMonth(currentMonth.getMonth() - 1);
      generateCalendar();
    }

    function nextMonth() {
      currentMonth.setMonth(currentMonth.getMonth() + 1);
      generateCalendar();
    }
  </script>
</body>
</html>
