<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gallery Management | Picture This Pet</title>
  <meta name="description" content="Comprehensive gallery management dashboard for Picture This Pet photo sessions.">
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Inter:wght@400;600&display=swap" rel="stylesheet" />

  <style>
    :root {
      --orange: #F47C2C;
      --gold: #FDB75E;
      --dark-brown: #4B2E1E;
      --available-green: #10b981;
      --booked-red: #ef4444;
      --soft-hold-yellow: #f59e0b;
      --admin-purple: #8b5cf6;
      --admin-blue: #3b82f6;
      --gallery-purple: #8b5cf6;
      --gallery-blue: #3b82f6;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html, body {
      overflow-x: hidden;
      scrollbar-width: thin;
      scrollbar-color: rgba(255, 255, 255, 0.3) transparent;
    }

    html::-webkit-scrollbar {
      width: 8px;
    }

    html::-webkit-scrollbar-track {
      background: transparent;
    }

    html::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.3);
      border-radius: 4px;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      color: white;
      background: none;
    }

    @keyframes moveBackground {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    @keyframes bounce {
      0%, 20%, 53%, 80%, 100% { transform: translateY(0); }
      40%, 43% { transform: translateY(-8px); }
      70% { transform: translateY(-4px); }
      90% { transform: translateY(-2px); }
    }

    /* === LAYOUT === */
    .admin-layout {
      display: grid;
      grid-template-columns: 280px 1fr;
      grid-template-rows: auto 1fr auto;
      min-height: 100vh;
      background-image: url("assets/images/main_background_allsystem.png");
      background-size: 100% 100%;
      background-position: center;
      animation: moveBackground 30s ease-in-out infinite;
    }

    /* === HEADER STYLES === */
    header {
      grid-column: 1 / -1;
      background-image: url('assets/images/ani_bkgd_cool.png');
      background-size: 100% 100%;
      background-position: center;
      animation: moveBackground 30s ease-in-out infinite;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
      backdrop-filter: blur(8px);
      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.3);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      z-index: 1000;
    }

    .header-left {
      display: flex;
      align-items: center;
      gap: 2rem;
    }

    .logo-small {
      height: 50px;
    }

    .header-title {
      font-family: 'Playfair Display', serif;
      font-size: 1.8rem;
      font-weight: 700;
      color: white;
    }

    .header-right {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .sync-status {
      background: rgba(255, 255, 255, 0.1);
      padding: 0.5rem 1rem;
      border-radius: 20px;
      font-size: 0.85rem;
      border: 1px solid rgba(255, 255, 255, 0.2);
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .sync-indicator {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: var(--available-green);
      animation: pulse 2s infinite;
    }

    .admin-user {
      background: rgba(255, 255, 255, 0.1);
      padding: 0.8rem 1.5rem;
      border-radius: 25px;
      font-size: 0.9rem;
      font-weight: 600;
      color: white;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .logout-btn {
      background: rgba(255, 255, 255, 0.1);
      color: white;
      border: 1px solid rgba(255, 255, 255, 0.3);
      padding: 0.7rem 1.2rem;
      border-radius: 8px;
      font-size: 0.9rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      min-width: 80px;
    }

    .logout-btn:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: translateY(-1px);
    }

    /* === SIDEBAR === */
    .admin-sidebar {
      background-image: url('assets/images/ani_bkgd_cool.png');
      background-size: 100% 100%;
      background-position: center;
      animation: moveBackground 30s ease-in-out infinite;
      backdrop-filter: blur(10px);
      border-right: 1px solid rgba(255, 255, 255, 0.1);
      padding: 2rem 0;
      overflow-y: auto;
    }

    .nav-section {
      margin-bottom: 2rem;
    }

    .nav-section-title {
      font-size: 0.85rem;
      font-weight: 600;
      color: rgba(255, 255, 255, 0.6);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      padding: 0 1.5rem;
      margin-bottom: 0.5rem;
    }

    .nav-item {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 1rem 1.5rem;
      color: rgba(255, 255, 255, 0.8);
      cursor: pointer;
      transition: all 0.3s ease;
      border-left: 3px solid transparent;
      min-height: 48px;
      text-decoration: none;
    }

    .nav-item:hover {
      background: rgba(255, 255, 255, 0.1);
      color: white;
    }

    .nav-item.active {
      background: rgba(255, 255, 255, 0.15);
      color: white;
      border-left-color: var(--gold);
    }

    .nav-icon {
      font-size: 1.2rem;
      width: 20px;
      text-align: center;
    }

    .nav-badge {
      background: var(--available-green);
      color: white;
      font-size: 0.7rem;
      padding: 0.2rem 0.5rem;
      border-radius: 10px;
      margin-left: auto;
    }

    /* === MAIN CONTENT === */
    .admin-main {
      padding: 2rem;
      overflow-y: auto;
      max-height: calc(100vh - 100px - 120px);
    }

    /* === CARDS === */
    .admin-card {
      background-image: url('assets/images/ani_bkgd_cool.png');
      background-size: 100% 100%;
      background-position: center;
      animation: moveBackground 30s ease-in-out infinite;
      border-radius: 24px;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
      padding: 2rem;
      color: white;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      margin-bottom: 2rem;
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
    }

    .card-title {
      font-family: 'Playfair Display', serif;
      font-size: 1.8rem;
      font-weight: 700;
      color: white;
    }

    .card-actions {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
    }

    /* === BUTTONS === */
    .btn {
      padding: 0.8rem 1.5rem;
      border: none;
      border-radius: 8px;
      font-size: 0.95rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      min-height: 48px;
      min-width: 80px;
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--orange), var(--gold));
      color: white;
      box-shadow: 0 4px 15px rgba(244, 124, 44, 0.3);
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(244, 124, 44, 0.4);
    }

    .btn-secondary {
      background: rgba(255, 255, 255, 0.1);
      color: white;
      border: 1px solid rgba(255, 255, 255, 0.3);
    }

    .btn-secondary:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: translateY(-1px);
    }

    .btn-small {
      padding: 0.5rem 1rem;
      font-size: 0.85rem;
      min-height: 40px;
      min-width: 60px;
    }

    .btn-success {
      background: linear-gradient(135deg, var(--available-green), #059669);
      color: white;
      box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
    }

    .btn-success:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
    }

    .btn-purple {
      background: linear-gradient(135deg, var(--gallery-purple), var(--gallery-blue));
      color: white;
      box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3);
    }

    .btn-purple:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(139, 92, 246, 0.4);
    }

    /* === GALLERY STATS === */
    .gallery-stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-bottom: 3rem;
    }

    .stat-card {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      padding: 1.5rem;
      text-align: center;
      border: 1px solid rgba(255, 255, 255, 0.2);
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .stat-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(244, 124, 44, 0.3);
    }

    .stat-card h4 {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: var(--gold);
    }

    .stat-card p {
      font-size: 1.8rem;
      font-weight: 700;
      color: white;
      margin-bottom: 0.3rem;
    }

    .stat-card .stat-subtitle {
      font-size: 0.8rem;
      color: rgba(255, 255, 255, 0.7);
    }

    /* === FILTER BAR === */
    .filter-bar {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      padding: 1.5rem;
      margin-bottom: 2rem;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .filter-controls {
      display: flex;
      gap: 1rem;
      align-items: center;
      flex-wrap: wrap;
    }

    .filter-group {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .filter-label {
      font-size: 0.85rem;
      font-weight: 600;
      color: rgba(255, 255, 255, 0.8);
    }

    .filter-select, .filter-input {
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 8px;
      padding: 0.5rem 1rem;
      color: white;
      font-size: 0.9rem;
    }

    .filter-select option {
      background: rgba(75, 46, 30, 0.95);
      color: white;
    }

    .filter-select:focus, .filter-input:focus {
      outline: none;
      border-color: var(--gallery-purple);
      box-shadow: 0 0 10px rgba(139, 92, 246, 0.3);
    }

    /* === GALLERY TABLE === */
    .gallery-table-container {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      overflow: hidden;
    }

    .gallery-table {
      width: 100%;
      border-collapse: collapse;
    }

    .gallery-table th {
      background: rgba(255, 255, 255, 0.1);
      padding: 1rem;
      text-align: left;
      font-weight: 600;
      color: white;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      position: sticky;
      top: 0;
      z-index: 10;
    }

    .gallery-table td {
      padding: 1rem;
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
      color: rgba(255, 255, 255, 0.9);
    }

    .gallery-table tr:hover {
      background: rgba(255, 255, 255, 0.05);
    }

    .gallery-row-thumbnail {
      width: 60px;
      height: 60px;
      border-radius: 8px;
      object-fit: cover;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .gallery-row-actions {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
    }

    .action-btn-small {
      padding: 0.4rem 0.8rem;
      font-size: 0.8rem;
      border-radius: 6px;
      border: none;
      cursor: pointer;
      transition: all 0.3s ease;
      color: white;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
    }

    .action-btn-view {
      background: linear-gradient(135deg, var(--gallery-purple), var(--gallery-blue));
    }

    .action-btn-view:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
    }

    .action-btn-edit {
      background: linear-gradient(135deg, var(--orange), var(--gold));
    }

    .action-btn-edit:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(244, 124, 44, 0.3);
    }

    .action-btn-analytics {
      background: linear-gradient(135deg, var(--available-green), #059669);
    }

    .action-btn-analytics:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
    }

    /* === STATUS BADGES === */
    .status-badge {
      padding: 0.3rem 0.8rem;
      border-radius: 15px;
      font-size: 0.8rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.3px;
    }

    .status-draft {
      background: rgba(107, 114, 128, 0.2);
      color: #9CA3AF;
      border: 1px solid rgba(107, 114, 128, 0.3);
    }

    .status-uploaded {
      background: rgba(245, 158, 11, 0.2);
      color: #F59E0B;
      border: 1px solid rgba(245, 158, 11, 0.3);
    }

    .status-shared {
      background: rgba(59, 130, 246, 0.2);
      color: #3B82F6;
      border: 1px solid rgba(59, 130, 246, 0.3);
    }

    .status-accessed {
      background: rgba(16, 185, 129, 0.2);
      color: #10B981;
      border: 1px solid rgba(16, 185, 129, 0.3);
    }

    .status-archived {
      background: rgba(139, 92, 246, 0.2);
      color: #8B5CF6;
      border: 1px solid rgba(139, 92, 246, 0.3);
    }

    /* === PROGRESS BARS === */
    .progress-container {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 10px;
      height: 8px;
      overflow: hidden;
      margin: 0.5rem 0;
    }

    .progress-bar {
      height: 100%;
      border-radius: 10px;
      transition: width 0.3s ease;
    }

    .progress-downloads {
      background: linear-gradient(135deg, var(--available-green), #059669);
    }

    .progress-engagement {
      background: linear-gradient(135deg, var(--gallery-purple), var(--gallery-blue));
    }

    /* === EMPTY STATE === */
    .empty-state {
      text-align: center;
      padding: 4rem 2rem;
      color: rgba(255, 255, 255, 0.7);
    }

    .empty-state-icon {
      font-size: 4rem;
      margin-bottom: 1rem;
      opacity: 0.5;
    }

    .empty-state h3 {
      font-size: 1.5rem;
      margin-bottom: 1rem;
      color: white;
    }

    .empty-state p {
      margin-bottom: 2rem;
      line-height: 1.6;
    }

    /* === RESPONSIVE === */
    @media (max-width: 1024px) {
      .admin-layout {
        grid-template-columns: 60px 1fr;
      }

      .admin-sidebar {
        padding: 1rem 0;
      }

      .nav-item {
        padding: 1rem 0.8rem;
        justify-content: center;
      }

      .nav-item span:not(.nav-icon) {
        display: none;
      }

      .nav-section-title {
        display: none;
      }

      .gallery-stats {
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      }

      .filter-controls {
        flex-direction: column;
        align-items: stretch;
      }

      .card-actions {
        flex-direction: column;
      }
    }

    @media (max-width: 768px) {
      .admin-layout {
        grid-template-columns: 1fr;
        grid-template-rows: auto auto 1fr;
      }

      .admin-sidebar {
        background: rgba(0, 0, 0, 0.95);
        position: fixed;
        top: 0;
        left: -100%;
        width: 280px;
        height: 100vh;
        z-index: 4000;
        transition: left 0.3s ease;
        padding: 2rem 0;
      }

      .admin-sidebar.open {
        left: 0;
      }

      .mobile-menu-btn {
        display: block;
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(255, 255, 255, 0.3);
        color: white;
        font-size: 1.5rem;
        cursor: pointer;
        width: 40px;
        height: 40px;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .header-title {
        font-size: 1.4rem;
      }

      .admin-main {
        padding: 1rem;
      }

      .gallery-table-container {
        overflow-x: auto;
      }

      .gallery-table {
        min-width: 800px;
      }

      .stat-card {
        padding: 1rem;
      }

      .stat-card h4 {
        font-size: 1rem;
      }

      .stat-card p {
        font-size: 1.5rem;
      }
    }
  </style>
</head>
<body>
  <div class="admin-layout">
    <!-- Header -->
    <header class="admin-header">
      <div class="header-left">
        <button class="mobile-menu-btn" onclick="toggleSidebar()" style="display: none;">‚ò∞</button>
        <img src="assets/images/headerlogowarm.png" alt="PictureThisPet Logo" class="logo-small" />
        <h1 class="header-title">Gallery Management üì∏</h1>
      </div>
      <div class="header-right">
        <div class="sync-status">
          <div class="sync-indicator" id="syncIndicator"></div>
          <span id="syncStatus">Connected</span>
        </div>
        <div class="admin-user" id="adminUser">Welcome, Admin</div>
        <button class="logout-btn" onclick="logout()">Logout</button>
      </div>
    </header>

    <!-- Sidebar -->
    <nav class="admin-sidebar" id="adminSidebar">
      <div class="nav-section">
        <div class="nav-section-title">Overview</div>
        <a href="admin.html" class="nav-item">
          <span class="nav-icon">üìä</span>
          <span>Dashboard</span>
        </a>
        <a href="calendar-management.html" class="nav-item">
          <span class="nav-icon">üìÖ</span>
          <span>Calendar Management</span>
        </a>
      </div>

      <div class="nav-section">
        <div class="nav-section-title">Management</div>
        <a href="client-session-management.html" class="nav-item">
          <span class="nav-icon">üë•</span>
          <span>Client & Session Management</span>
        </a>
        <a href="gallery-management.html" class="nav-item active">
          <span class="nav-icon">üñºÔ∏è</span>
          <span>Gallery Management</span>
          <span class="nav-badge" id="galleriesBadge">23</span>
        </a>
      </div>

      <div class="nav-section">
        <div class="nav-section-title">Gallery Tools</div>
        <a href="gallery-upload.html" class="nav-item">
          <span class="nav-icon">üì§</span>
          <span>Upload Photos</span>
        </a>
        <a href="gallery-analytics.html" class="nav-item">
          <span class="nav-icon">üìà</span>
          <span>Analytics Dashboard</span>
        </a>
        <a href="print-orders.html" class="nav-item">
          <span class="nav-icon">üñ®Ô∏è</span>
          <span>Print Orders</span>
          <span class="nav-badge">7</span>
        </a>
      </div>

      <div class="nav-section">
        <div class="nav-section-title">Business</div>
        <a href="business-management.html" class="nav-item">
          <span class="nav-icon">üìà</span>
          <span>Business Management</span>
        </a>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="admin-main">
      <!-- Gallery Overview Stats -->
      <div class="admin-card">
        <div class="card-header">
          <h2 class="card-title">Gallery Overview üìä</h2>
          <div class="card-actions">
            <button class="btn btn-purple btn-small" onclick="openAnalyticsDashboard()">üìà View Analytics</button>
            <button class="btn btn-success btn-small" onclick="openUploadInterface()">üì§ Upload Photos</button>
            <button class="btn btn-primary btn-small" onclick="createNewGallery()">‚ûï New Gallery</button>
          </div>
        </div>

        <div class="gallery-stats">
          <div class="stat-card" onclick="filterByStatus('all')">
            <h4>Total Galleries üñºÔ∏è</h4>
            <p id="totalGalleries">23</p>
            <div class="stat-subtitle">All time</div>
          </div>
          <div class="stat-card" onclick="filterByStatus('shared')">
            <h4>Active Galleries üåü</h4>
            <p id="activeGalleries">15</p>
            <div class="stat-subtitle">Currently shared</div>
          </div>
          <div class="stat-card" onclick="filterByStatus('accessed')">
            <h4>Client Views üëÄ</h4>
            <p id="totalViews">342</p>
            <div class="stat-subtitle">This month</div>
          </div>
          <div class="stat-card" onclick="openPrintOrders()">
            <h4>Print Orders üñ®Ô∏è</h4>
            <p id="printOrders">47</p>
            <div class="stat-subtitle">$1,247 revenue</div>
          </div>
          <div class="stat-card" onclick="openAnalyticsDashboard()">
            <h4>Downloads üì•</h4>
            <p id="totalDownloads">289</p>
            <div class="stat-subtitle">High-res photos</div>
          </div>
        </div>
      </div>

      <!-- Filter Controls -->
      <div class="admin-card">
        <div class="filter-bar">
          <div class="filter-controls">
            <div class="filter-group">
              <label class="filter-label">Status</label>
              <select class="filter-select" id="statusFilter" onchange="applyFilters()">
                <option value="all">All Galleries</option>
                <option value="draft">Draft</option>
                <option value="uploaded">Uploaded</option>
                <option value="shared">Shared</option>
                <option value="accessed">Client Accessed</option>
                <option value="archived">Archived</option>
              </select>
            </div>
            <div class="filter-group">
              <label class="filter-label">Session Type</label>
              <select class="filter-select" id="sessionTypeFilter" onchange="applyFilters()">
                <option value="all">All Types</option>
                <option value="Mini Session">Mini Session</option>
                <option value="Standard Session">Standard Session</option>
                <option value="Extended Session">Extended Session</option>
                <option value="Pop-Up">Pop-Up Event</option>
              </select>
            </div>
            <div class="filter-group">
              <label class="filter-label">Date Range</label>
              <select class="filter-select" id="dateFilter" onchange="applyFilters()">
                <option value="all">All Time</option>
                <option value="today">Today</option>
                <option value="week">This Week</option>
                <option value="month">This Month</option>
                <option value="quarter">This Quarter</option>
              </select>
            </div>
            <div class="filter-group">
              <label class="filter-label">Search</label>
              <input type="text" class="filter-input" id="searchFilter" placeholder="Client name, pet name..." onkeyup="applyFilters()">
            </div>
            <div class="filter-group" style="align-self: flex-end;">
              <button class="btn btn-secondary btn-small" onclick="clearFilters()">üîÑ Clear Filters</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Gallery Table -->
      <div class="admin-card">
        <div class="card-header">
          <h2 class="card-title">All Galleries üñºÔ∏è</h2>
          <div class="card-actions">
            <button class="btn btn-secondary btn-small" onclick="exportGalleryData()">üìä Export Data</button>
            <button class="btn btn-secondary btn-small" onclick="bulkActions()">‚ö° Bulk Actions</button>
          </div>
        </div>

        <div class="gallery-table-container">
          <table class="gallery-table">
            <thead>
              <tr>
                <th>Preview</th>
                <th>Gallery Info</th>
                <th>Status</th>
                <th>Analytics</th>
                <th>Client Activity</th>
                <th>Revenue</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="galleryTableBody">
              <!-- Sample data - this would be populated from your data source -->
              <tr>
                <td>
                  <img src="https://images.unsplash.com/photo-1601758228041-f3b2795255f1?w=60&h=60&fit=crop" alt="Buffy & Max" class="gallery-row-thumbnail">
                </td>
                <td>
                  <div style="font-weight: 600; margin-bottom: 0.3rem;">Buffy & Max Adventure</div>
                  <div style="font-size: 0.85rem; color: rgba(255,255,255,0.7);">
                    üìÖ Dec 15, 2024 ‚Ä¢ üèûÔ∏è Cheesman Park<br>
                    üë§ Sarah Johnson ‚Ä¢ üì∏ 42 photos
                  </div>
                </td>
                <td>
                  <span class="status-badge status-accessed">Accessed</span>
                  <div style="font-size: 0.8rem; color: rgba(255,255,255,0.6); margin-top: 0.3rem;">
                    Last viewed 2 days ago
                  </div>
                </td>
                <td>
                  <div style="font-size: 0.85rem; margin-bottom: 0.5rem;">
                    üëÄ <strong>23 views</strong> ‚Ä¢ üì• <strong>12 downloads</strong>
                  </div>
                  <div class="progress-container">
                    <div class="progress-bar progress-downloads" style="width: 65%;"></div>
                  </div>
                  <div style="font-size: 0.8rem; color: rgba(255,255,255,0.6);">65% engagement</div>
                </td>
                <td>
                  <div style="font-size: 0.85rem;">
                    ‚ù§Ô∏è <strong>8 favorites</strong><br>
                    ‚≠ê <strong>4.8/5</strong> rating<br>
                    üìß Gallery shared 3 days ago
                  </div>
                </td>
                <td>
                  <div style="font-size: 0.85rem;">
                    üñ®Ô∏è <strong>3 print orders</strong><br>
                    üí∞ <strong>$127</strong> total<br>
                    üìà Above average
                  </div>
                </td>
                <td>
                  <div class="gallery-row-actions">
                    <button class="action-btn-small action-btn-view" onclick="viewGallery('buffy-max-001')" title="View Gallery">
                      üëÅÔ∏è View
                    </button>
                    <button class="action-btn-small action-btn-edit" onclick="editGallery('buffy-max-001')" title="Edit Gallery">
                      ‚úèÔ∏è Edit
                    </button>
                    <button class="action-btn-small action-btn-analytics" onclick="viewAnalytics('buffy-max-001')" title="View Analytics">
                      üìä Analytics
                    </button>
                  </div>
                </td>
              </tr>

              <tr>
                <td>
                  <img src="https://images.unsplash.com/photo-1583337130417-3346a1be7dee?w=60&h=60&fit=crop" alt="Luna Session" class="gallery-row-thumbnail">
                </td>
                <td>
                  <div style="font-weight: 600; margin-bottom: 0.3rem;">Luna's Portrait Session</div>
                  <div style="font-size: 0.85rem; color: rgba(255,255,255,0.7);">
                    üìÖ Dec 12, 2024 ‚Ä¢ üèûÔ∏è Washington Park<br>
                    üë§ Mike Chen ‚Ä¢ üì∏ 28 photos
                  </div>
                </td>
                <td>
                  <span class="status-badge status-shared">Shared</span>
                  <div style="font-size: 0.8rem; color: rgba(255,255,255,0.6); margin-top: 0.3rem;">
                    Shared 1 day ago
                  </div>
                </td>
                <td>
                  <div style="font-size: 0.85rem; margin-bottom: 0.5rem;">
                    üëÄ <strong>7 views</strong> ‚Ä¢ üì• <strong>5 downloads</strong>
                  </div>
                  <div class="progress-container">
                    <div class="progress-bar progress-downloads" style="width: 45%;"></div>
                  </div>
                  <div style="font-size: 0.8rem; color: rgba(255,255,255,0.6);">45% engagement</div>
                </td>
                <td>
                  <div style="font-size: 0.85rem;">
                    ‚ù§Ô∏è <strong>3 favorites</strong><br>
                    ‚≠ê <strong>No rating yet</strong><br>
                    üìß Recently shared
                  </div>
                </td>
                <td>
                  <div style="font-size: 0.85rem;">
                    üñ®Ô∏è <strong>1 print order</strong><br>
                    üí∞ <strong>$45</strong> total<br>
                    üìä New gallery
                  </div>
                </td>
                <td>
                  <div class="gallery-row-actions">
                    <button class="action-btn-small action-btn-view" onclick="viewGallery('luna-001')" title="View Gallery">
                      üëÅÔ∏è View
                    </button>
                    <button class="action-btn-small action-btn-edit" onclick="editGallery('luna-001')" title="Edit Gallery">
                      ‚úèÔ∏è Edit
                    </button>
                    <button class="action-btn-small action-btn-analytics" onclick="viewAnalytics('luna-001')" title="View Analytics">
                      üìä Analytics
                    </button>
                  </div>
                </td>
              </tr>

              <tr>
                <td>
                  <img src="https://images.unsplash.com/photo-1587300003388-59208cc962cb?w=60&h=60&fit=crop" alt="Pending Upload" class="gallery-row-thumbnail">
                </td>
                <td>
                  <div style="font-weight: 600; margin-bottom: 0.3rem;">Rocky & Bella Session</div>
                  <div style="font-size: 0.85rem; color: rgba(255,255,255,0.7);">
                    üìÖ Dec 10, 2024 ‚Ä¢ üèûÔ∏è City Park<br>
                    üë§ Emma Rodriguez ‚Ä¢ üì∏ Pending upload
                  </div>
                </td>
                <td>
                  <span class="status-badge status-uploaded">Uploaded</span>
                  <div style="font-size: 0.8rem; color: rgba(255,255,255,0.6); margin-top: 0.3rem;">
                    Ready to share
                  </div>
                </td>
                <td>
                  <div style="font-size: 0.85rem; margin-bottom: 0.5rem;">
                    üëÄ <strong>0 views</strong> ‚Ä¢ üì• <strong>0 downloads</strong>
                  </div>
                  <div class="progress-container">
                    <div class="progress-bar progress-downloads" style="width: 0%;"></div>
                  </div>
                  <div style="font-size: 0.8rem; color: rgba(255,255,255,0.6);">Not shared yet</div>
                </td>
                <td>
                  <div style="font-size: 0.85rem;">
                    ‚ù§Ô∏è <strong>0 favorites</strong><br>
                    ‚≠ê <strong>No rating</strong><br>
                    üìß Ready to share
                  </div>
                </td>
                <td>
                  <div style="font-size: 0.85rem;">
                    üñ®Ô∏è <strong>0 orders</strong><br>
                    üí∞ <strong>$0</strong><br>
                    üìä Pending
                  </div>
                </td>
                <td>
                  <div class="gallery-row-actions">
                    <button class="action-btn-small action-btn-view" onclick="viewGallery('rocky-bella-001')" title="View Gallery">
                      üëÅÔ∏è View
                    </button>
                    <button class="action-btn-small action-btn-edit" onclick="editGallery('rocky-bella-001')" title="Edit Gallery">
                      ‚úèÔ∏è Edit
                    </button>
                    <button class="action-btn-small action-btn-analytics" onclick="shareGallery('rocky-bella-001')" title="Share Gallery" style="background: linear-gradient(135deg, var(--gallery-blue), var(--admin-blue));">
                      üìß Share
                    </button>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Empty State (hidden by default, shown when no galleries match filters) -->
      <div class="admin-card" id="emptyState" style="display: none;">
        <div class="empty-state">
          <div class="empty-state-icon">üîç</div>
          <h3>No Galleries Found</h3>
          <p>No galleries match your current filters. Try adjusting your search criteria or create a new gallery.</p>
          <button class="btn btn-primary" onclick="clearFilters()">Clear Filters</button>
        </div>
      </div>
    </main>
  </div>

  <script>
    // Mock data for galleries (in real app, this would come from your data source)
    let galleries = [
      {
        id: 'buffy-max-001',
        clientName: 'Sarah Johnson',
        petNames: ['Buffy', 'Max'],
        sessionDate: '2024-12-15',
        location: 'Cheesman Park',
        sessionType: 'Standard Session',
        status: 'accessed',
        photoCount: 42,
        views: 23,
        downloads: 12,
        favorites: 8,
        rating: 4.8,
        printOrders: 3,
        revenue: 127,
        lastViewed: '2 days ago',
        sharedDate: '3 days ago',
        thumbnail: 'https://images.unsplash.com/photo-1601758228041-f3b2795255f1?w=60&h=60&fit=crop'
      },
      {
        id: 'luna-001',
        clientName: 'Mike Chen',
        petNames: ['Luna'],
        sessionDate: '2024-12-12',
        location: 'Washington Park',
        sessionType: 'Mini Session',
        status: 'shared',
        photoCount: 28,
        views: 7,
        downloads: 5,
        favorites: 3,
        rating: null,
        printOrders: 1,
        revenue: 45,
        lastViewed: null,
        sharedDate: '1 day ago',
        thumbnail: 'https://images.unsplash.com/photo-1583337130417-3346a1be7dee?w=60&h=60&fit=crop'
      },
      {
        id: 'rocky-bella-001',
        clientName: 'Emma Rodriguez',
        petNames: ['Rocky', 'Bella'],
        sessionDate: '2024-12-10',
        location: 'City Park',
        sessionType: 'Extended Session',
        status: 'uploaded',
        photoCount: 0,
        views: 0,
        downloads: 0,
        favorites: 0,
        rating: null,
        printOrders: 0,
        revenue: 0,
        lastViewed: null,
        sharedDate: null,
        thumbnail: 'https://images.unsplash.com/photo-1587300003388-59208cc962cb?w=60&h=60&fit=crop'
      }
    ];

    let filteredGalleries = [...galleries];

    // Initialize page
    document.addEventListener('DOMContentLoaded', function() {
      checkAuthentication();
      renderGalleries();
      updateStats();
    });

    // Check authentication
    function checkAuthentication() {
      const isAuthenticated = localStorage.getItem('adminAuthenticated');
      if (!isAuthenticated) {
        window.location.href = '/admin-login.html';
        return;
      }
      const adminUser = localStorage.getItem('adminUser') || 'Admin';
      document.getElementById('adminUser').textContent = `Welcome, ${adminUser} üëã`;
    }

    // Logout
    function logout() {
      localStorage.removeItem('adminAuthenticated');
      localStorage.removeItem('adminUser');
      localStorage.removeItem('adminLoginTime');
      window.location.href = '/admin-login.html';
    }

    // Toggle sidebar for mobile
    function toggleSidebar() {
      const sidebar = document.getElementById('adminSidebar');
      sidebar.classList.toggle('open');
    }

    // Update statistics
    function updateStats() {
      document.getElementById('totalGalleries').textContent = galleries.length;
      document.getElementById('activeGalleries').textContent = galleries.filter(g => g.status === 'shared' || g.status === 'accessed').length;
      document.getElementById('totalViews').textContent = galleries.reduce((sum, g) => sum + g.views, 0);
      document.getElementById('printOrders').textContent = galleries.reduce((sum, g) => sum + g.printOrders, 0);
      document.getElementById('totalDownloads').textContent = galleries.reduce((sum, g) => sum + g.downloads, 0);
      document.getElementById('galleriesBadge').textContent = galleries.length;
    }

    // Filter functions
    function applyFilters() {
      const statusFilter = document.getElementById('statusFilter').value;
      const sessionTypeFilter = document.getElementById('sessionTypeFilter').value;
      const dateFilter = document.getElementById('dateFilter').value;
      const searchFilter = document.getElementById('searchFilter').value.toLowerCase();

      filteredGalleries = galleries.filter(gallery => {
        // Status filter
        if (statusFilter !== 'all' && gallery.status !== statusFilter) return false;
        
        // Session type filter
        if (sessionTypeFilter !== 'all' && gallery.sessionType !== sessionTypeFilter) return false;
        
        // Date filter (simplified for demo)
        if (dateFilter !== 'all') {
          const galleryDate = new Date(gallery.sessionDate);
          const now = new Date();
          switch (dateFilter) {
            case 'today':
              if (galleryDate.toDateString() !== now.toDateString()) return false;
              break;
            case 'week':
              const weekAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);
              if (galleryDate < weekAgo) return false;
              break;
            case 'month':
              if (galleryDate.getMonth() !== now.getMonth() || galleryDate.getFullYear() !== now.getFullYear()) return false;
              break;
          }
        }
        
        // Search filter
        if (searchFilter) {
          const searchText = `${gallery.clientName} ${gallery.petNames.join(' ')} ${gallery.location}`.toLowerCase();
          if (!searchText.includes(searchFilter)) return false;
        }
        
        return true;
      });

      renderGalleries();
    }

    function clearFilters() {
      document.getElementById('statusFilter').value = 'all';
      document.getElementById('sessionTypeFilter').value = 'all';
      document.getElementById('dateFilter').value = 'all';
      document.getElementById('searchFilter').value = '';
      filteredGalleries = [...galleries];
      renderGalleries();
    }

    function filterByStatus(status) {
      document.getElementById('statusFilter').value = status;
      applyFilters();
    }

    // Render galleries table
    function renderGalleries() {
      const tbody = document.getElementById('galleryTableBody');
      const emptyState = document.getElementById('emptyState');
      
      if (filteredGalleries.length === 0) {
        tbody.innerHTML = '';
        emptyState.style.display = 'block';
        return;
      }
      
      emptyState.style.display = 'none';
      
      tbody.innerHTML = filteredGalleries.map(gallery => {
        const statusClass = `status-${gallery.status}`;
        const engagementPercent = gallery.photoCount > 0 ? Math.round((gallery.downloads / gallery.photoCount) * 100) : 0;
        
        return `
          <tr>
            <td>
              <img src="${gallery.thumbnail}" alt="${gallery.petNames.join(' & ')}" class="gallery-row-thumbnail">
            </td>
            <td>
              <div style="font-weight: 600; margin-bottom: 0.3rem;">${gallery.petNames.join(' & ')} Session</div>
              <div style="font-size: 0.85rem; color: rgba(255,255,255,0.7);">
                üìÖ ${new Date(gallery.sessionDate).toLocaleDateString()} ‚Ä¢ üèûÔ∏è ${gallery.location}<br>
                üë§ ${gallery.clientName} ‚Ä¢ üì∏ ${gallery.photoCount} photos
              </div>
            </td>
            <td>
              <span class="status-badge ${statusClass}">${gallery.status.charAt(0).toUpperCase() + gallery.status.slice(1)}</span>
              <div style="font-size: 0.8rem; color: rgba(255,255,255,0.6); margin-top: 0.3rem;">
                ${gallery.lastViewed ? `Last viewed ${gallery.lastViewed}` : 
                  gallery.sharedDate ? `Shared ${gallery.sharedDate}` : 'Ready to share'}
              </div>
            </td>
            <td>
              <div style="font-size: 0.85rem; margin-bottom: 0.5rem;">
                üëÄ <strong>${gallery.views} views</strong> ‚Ä¢ üì• <strong>${gallery.downloads} downloads</strong>
              </div>
              <div class="progress-container">
                <div class="progress-bar progress-downloads" style="width: ${engagementPercent}%;"></div>
              </div>
              <div style="font-size: 0.8rem; color: rgba(255,255,255,0.6);">${engagementPercent}% engagement</div>
            </td>
            <td>
              <div style="font-size: 0.85rem;">
                ‚ù§Ô∏è <strong>${gallery.favorites} favorites</strong><br>
                ‚≠ê <strong>${gallery.rating ? `${gallery.rating}/5` : 'No rating yet'}</strong><br>
                üìß ${gallery.sharedDate ? `Gallery shared ${gallery.sharedDate}` : 'Ready to share'}
              </div>
            </td>
            <td>
              <div style="font-size: 0.85rem;">
                üñ®Ô∏è <strong>${gallery.printOrders} print orders</strong><br>
                üí∞ <strong>$${gallery.revenue}</strong> total<br>
                üìà ${gallery.revenue > 50 ? 'Above average' : gallery.revenue > 0 ? 'Below average' : 'No orders yet'}
              </div>
            </td>
            <td>
              <div class="gallery-row-actions">
                <button class="action-btn-small action-btn-view" onclick="viewGallery('${gallery.id}')" title="View Gallery">
                  üëÅÔ∏è View
                </button>
                <button class="action-btn-small action-btn-edit" onclick="editGallery('${gallery.id}')" title="Edit Gallery">
                  ‚úèÔ∏è Edit
                </button>
                ${gallery.status === 'uploaded' ? 
                  `<button class="action-btn-small" onclick="shareGallery('${gallery.id}')" title="Share Gallery" style="background: linear-gradient(135deg, var(--gallery-blue), var(--admin-blue));">
                    üìß Share
                  </button>` :
                  `<button class="action-btn-small action-btn-analytics" onclick="viewAnalytics('${gallery.id}')" title="View Analytics">
                    üìä Analytics
                  </button>`
                }
              </div>
            </td>
          </tr>
        `;
      }).join('');
    }

    // Gallery actions
    function viewGallery(galleryId) {
      console.log('Viewing gallery:', galleryId);
      window.open(`/gallery.html?session=${galleryId}`, '_blank');
    }

    function editGallery(galleryId) {
      console.log('Editing gallery:', galleryId);
      window.location.href = `gallery-edit.html?id=${galleryId}`;
    }

    function viewAnalytics(galleryId) {
      console.log('Viewing analytics for gallery:', galleryId);
      window.location.href = `gallery-analytics.html?id=${galleryId}`;
    }

    function shareGallery(galleryId) {
      console.log('Sharing gallery:', galleryId);
      // Show share modal or redirect to share interface
      alert(`üìß Gallery sharing interface would open here!\n\nGallery ID: ${galleryId}\n\nFeatures:\n‚Ä¢ Generate client access link\n‚Ä¢ Send email notification\n‚Ä¢ Set gallery expiration\n‚Ä¢ Configure download permissions`);
    }

    // Header actions
    function openAnalyticsDashboard() {
      window.location.href = 'gallery-analytics.html';
    }

    function openUploadInterface() {
      window.location.href = 'gallery-upload.html';
    }

    function createNewGallery() {
      window.location.href = 'gallery-create.html';
    }

    function openPrintOrders() {
      window.location.href = 'print-orders.html';
    }

    // Utility actions
    function exportGalleryData() {
      console.log('Exporting gallery data...');
      alert('üìä Gallery data export feature!\n\nThis would generate:\n‚Ä¢ CSV/Excel export of all gallery data\n‚Ä¢ Analytics reports\n‚Ä¢ Revenue summaries\n‚Ä¢ Client engagement metrics');
    }

    function bulkActions() {
      console.log('Opening bulk actions...');
      alert('‚ö° Bulk actions interface!\n\nFeatures:\n‚Ä¢ Select multiple galleries\n‚Ä¢ Batch share/archive\n‚Ä¢ Bulk email clients\n‚Ä¢ Mass download analytics\n‚Ä¢ Batch print processing');
    }

    // Mobile responsiveness
    window.addEventListener('resize', function() {
      if (window.innerWidth > 768) {
        document.getElementById('adminSidebar').classList.remove('open');
      }
    });
  </script>
</body>
</html>
